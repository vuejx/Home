(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{308:function(n,t,a){"use strict";a.r(t);var e=a(38),s=Object(e.a)({},function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"api-thong-ke-bao-cao"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#api-thong-ke-bao-cao","aria-hidden":"true"}},[n._v("#")]),n._v(" API thống kê báo cáo")]),n._v(" "),a("h2",{attrs:{id:"mo-ta-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mo-ta-api","aria-hidden":"true"}},[n._v("#")]),n._v(" Mô tả API")]),n._v(" "),a("p",[n._v("Phương thức: POST")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("/vuejx\n")])])]),a("p",[n._v("Các tham số truy vấn:")]),n._v(" "),a("ol",[a("li",[a("p",[n._v("token: Mã JSON Web Tokens ( JWT ) nhận được khi đăng nhập ( tuỳ chọn ).")])]),n._v(" "),a("li",[a("p",[n._v("db: Tên Database cần lấy dữ liệu.")])]),n._v(" "),a("li",[a("p",[n._v("collection: Tên Collection cần lấy dữ liệu.")])]),n._v(" "),a("li",[a("p",[n._v("body: Câu truy vấn lấy dữ liệu ( định dạng DSL QUERY )")])])]),n._v(" "),a("p",[n._v("Tham số Headers")]),n._v(" "),a("ol",[a("li",[a("p",[n._v("Authorization: Mã xác thực Oauth2 ( access token ) nhận được khi đăng nhập hệ thống ( tuỳ chọn ).")])]),n._v(" "),a("li",[a("p",[n._v("token: Mã JSON Web Tokens ( JWT ) nhận được khi đăng nhập ( tuỳ chọn ).")])])]),n._v(" "),a("h2",{attrs:{id:"vi-du-mau"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vi-du-mau","aria-hidden":"true"}},[n._v("#")]),n._v(" Ví dụ mẫu")]),n._v(" "),a("p",[n._v('Câu truy vấn sau lấy thống kê các bản ghi của "collection" vuejx_page gộp nhóm theo shortName.')]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('query {\n  aggs( token: "Mã token",\n        body: {\n            size: 0,\n            aggs: {\n                group_by_state: {\n                    terms: {\n                        field: "shortName"\n                    }\n                }\n            }\n        },\n        db: "vuejx_cfg",\n        collection: "vuejx_page"\n    )\n}\n')])])]),a("p",[n._v("kế quả trả về như sau:")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v('{\n  "data": {\n    "aggs": {\n      "took": 26,\n      "timed_out": false,\n      "_shards": {\n        "total": 2,\n        "successful": 2,\n        "skipped": 0,\n        "failed": 0\n      },\n      "hits": {\n        "total": {\n          "value": 1,\n          "relation": "eq"\n        },\n        "max_score": null,\n        "hits": []\n      },\n      "aggregations": {\n        "group_by_state": {\n          "doc_count_error_upper_bound": 0,\n          "sum_other_doc_count": 0,\n          "buckets": [\n            {\n              "key": "home",\n              "doc_count": 1\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n')])])])])},[],!1,null,null,null);t.default=s.exports}}]);