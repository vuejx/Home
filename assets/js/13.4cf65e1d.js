(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{218:function(n,t,e){"use strict";e.r(t);var a=e(0),s=Object(a.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("h1",{attrs:{id:"api-truy-van-du-lieu"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-truy-van-du-lieu","aria-hidden":"true"}},[n._v("#")]),n._v(" API truy vấn dữ liệu")]),n._v(" "),e("h2",{attrs:{id:"mo-ta-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mo-ta-api","aria-hidden":"true"}},[n._v("#")]),n._v(" Mô tả API")]),n._v(" "),e("p",[n._v("Phương thức: POST")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v("/vuejx\n")])])]),e("p",[n._v("Các tham số truy vấn:")]),n._v(" "),e("ol",[e("li",[e("p",[n._v("token: Mã JSON Web Tokens ( JWT ) nhận được khi đăng nhập ( tuỳ chọn ).")])]),n._v(" "),e("li",[e("p",[n._v("db: Tên Database cần lấy dữ liệu.")])]),n._v(" "),e("li",[e("p",[n._v("collection: Tên Collection cần lấy dữ liệu.")])]),n._v(" "),e("li",[e("p",[n._v("body: Câu truy vấn lấy dữ liệu ( định dạng DSL QUERY )")])])]),n._v(" "),e("p",[n._v("Tham số Headers")]),n._v(" "),e("ol",[e("li",[e("p",[n._v("Authorization: Mã xác thực Oauth2 ( access token ) nhận được khi đăng nhập hệ thống ( tuỳ chọn ).")])]),n._v(" "),e("li",[e("p",[n._v("token: Mã JSON Web Tokens ( JWT ) nhận được khi đăng nhập ( tuỳ chọn ).")])])]),n._v(" "),e("h2",{attrs:{id:"vi-du-mau"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vi-du-mau","aria-hidden":"true"}},[n._v("#")]),n._v(" Ví dụ mẫu")]),n._v(" "),e("p",[n._v('Câu truy vấn sau lấy danh sách 10 bản ghi của "collection" vuejx_page.')]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('query {\n  search( token: "Mã token",\n        body: {\n            sort: [ \n                    {\n                        order: "asc"\n                    }\n                ],\n            _source: {\n                includes: [ "shortName", "title" ]\n            },\n            query: {\n                bool: {\n                    filter: {\n                        match: {\n                            site: "guest"\n                        }\n                    },\n                    "must": [\n                        {\n                            "match": {\n                                "siteParent": "guest"\n                            }\n                        },\n                        {\n                            "match": {\n                                "hidden": false\n                            }\n                        },\n                        {\n                            "match": {\n                                "visibility": "web"\n                            }\n                        }\n                    ]\n                }\n            },\n            from: 0,\n            size: 10\n        },\n        db: "vuejx_cfg",\n        collection: "vuejx_page"\n    )\n}\n')])])]),e("p",[n._v("kế quả trả về như sau:")]),n._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[n._v('{\n  "data": {\n    "search": {\n      "took": 7,\n      "timed_out": false,\n      "_shards": {\n        "total": 2,\n        "successful": 2,\n        "skipped": 0,\n        "failed": 0\n      },\n      "hits": {\n        "total": {\n          "value": 1,\n          "relation": "eq"\n        },\n        "max_score": null,\n        "hits": [\n          {\n            "_index": "vuejx_cfg___vuejx_page",\n            "_type": "_doc",\n            "_id": "5d7266c33e78a2f92d23e9c5",\n            "_score": null,\n            "_source": {\n              "title": "Home",\n              "shortName": "home"\n            },\n            "sort": [\n              4\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n')])])])])}),[],!1,null,null,null);t.default=s.exports}}]);