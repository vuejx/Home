"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _asyncIterator(e){var t;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(t=e[Symbol.asyncIterator]))return t.call(e);if(Symbol.iterator&&null!=(t=e[Symbol.iterator]))return t.call(e)}throw new TypeError("Object is not async iterable")}function asyncGeneratorStep(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(i,r)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(i,r){function a(e){asyncGeneratorStep(s,i,r,a,o,"next",e)}function o(e){asyncGeneratorStep(s,i,r,a,o,"throw",e)}var s=e.apply(t,n);a(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArrayLimit(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function normalizeComponent(e,t,n,i,r,a,o,s,u,l){"boolean"!=typeof o&&(u=s,s=o,o=!1);var c="function"==typeof n?n.options:n;e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,r&&(c.functional=!0)),i&&(c._scopeId=i);var _;if(a?(_=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,u(e)),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=_):t&&(_=o?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),_)if(c.functional){var d=c.render;c.render=function(e,t){return _.call(t),d(e,t)}}else{var v=c.beforeCreate;c.beforeCreate=v?[].concat(v,_):[_]}return n}function createInjector(e){return function(e,t){return addStyle(e,t)}}function addStyle(e,t){var n=isOldIE?t.media||"default":e,i=styles[n]||(styles[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var r=t.source;if(t.map&&(r+="\n/*# sourceURL="+t.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),HEAD.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(r),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var a=i.ids.size-1,o=document.createTextNode(r),s=i.element.childNodes;s[a]&&i.element.removeChild(s[a]),s.length?i.element.insertBefore(o,s[a]):i.element.appendChild(o)}}}function install(e){e.component(VuejxHeader.name,VuejxHeader),e.component(VuejxFooter.name,VuejxFooter),e.component(VuejxLoginWiget.name,VuejxLoginWiget),e.component(VuejxLogin.name,VuejxLogin),e.component(VuejxUnlock.name,VuejxUnlock),e.component(VuejxContent.name,VuejxContent),e.component(VuejxContentView.name,VuejxContentView),e.component(VuejxUIAggs.name,VuejxUIAggs),e.component(VuejxUIAggsTree.name,VuejxUIAggsTree),e.component(VuejxUIChart.name,VuejxUIChart),e.component(VuejxUIAdmin.name,VuejxUIAdmin),e.component(VuejxUIMenu.name,VuejxUIMenu),e.component(VuejxImageUpload.name,VuejxImageUpload),e.component(VuejxImagePreview.name,VuejxImagePreview),e.component(VuejxCoreDate.name,VuejxCoreDate),e.component(VuejxCoreDateMultiple.name,VuejxCoreDateMultiple),e.component(VuejxCoreArray.name,VuejxCoreArray),e.component(VuejxCoreObject.name,VuejxCoreObject),e.component(VuejxJumbotron.name,VuejxJumbotron),e.component(VuejxDataAggs.name,VuejxDataAggs),e.component(VuejxDataReport.name,VuejxDataReport),e.component(VuejxDataDetail.name,VuejxDataDetail),e.component(VuejxDataList.name,VuejxDataList)}var Service=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"pullData",value:function(e){var t={size:e.size,from:e.page*e.size,sort:e.sort,_source:{includes:e.columns},highlight:{tags_schema:"styled",fields:{title:{}}},query:{bool:{must:[],filter:{match:{type:e.entity}}}}};if(null!==e.site&&void 0!==e.site&&"site"!==e.entity&&"_resource"!==e.entity&&t.query.bool.must.push({match:{site:e.site}}),null!==e.condition&&void 0!==e.condition)for(var n in e.condition)t.query.bool.must.push(e.condition[n]);var i=e.keyword.split(" ");for(var r in i)t.query.bool.must.push({wildcard:{title:"*"+i[r].toLowerCase()+"*"}});if(null===e.queryFilter){var a=window.location.search.substring(1),o=""!==a?a.split("&"):[];for(var s in o){var u=_slicedToArray(o[s].split("="),2),l=u[0],c=u[1];if("page"!==l&&""!==l&&"s"!==l&&"_id"!==l&&"_index"!==l&&"shortName"!==l&&"t"!==l){var _=c.split(",");if(1===_.length){var d='\n                            {\n                                "match": {\n                                    "'+l+'": "'+c+'"\n                                }\n                            }\n                        ';t.query.bool.must.push(JSON.parse(d))}else{var v=[];for(var p in _){var m='\n                                {\n                                    "match": {\n                                        "'+l+'": "'+_[p]+'"\n                                    }\n                                }\n                            ';v.push(JSON.parse(m))}t.query.bool.must.push({bool:{should:v}})}}}}return new Promise(function(n,i){window.Vue.prototype.$http.post(e.api,{query:"query search($token: String, $body: JSON, $site: String) {\n          \n          results: search(token: $token, body: $body, site: $site)\n    \n        }",variables:JSON.stringify({token:e.user.token,body:t,site:e.site})}).then(function(e){n(e.data.data)}).catch(function(e){console.log(e),i(null)})})}},{key:"pullDataList",value:function(){function e(e,n){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t,n){var i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i="query search($token: String, $body: JSON, $site: String) {\n          results: search(token: $token, body: $body, site: $site),\n        }",r=[],e.next=4,window.Vue.prototype.$http.post(n.api,{query:i,variables:JSON.stringify({token:n.user.token,body:t,site:n.site})}).then(function(e){r=e.data.data.results.hits}).catch(function(e){r=[],console.error(e)});case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return e}()},{key:"pullDataContent",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="query content($token: String, $id: String) {\n          content: content(token: $token, id: $id)\n        }",i="",e.next=4,window.Vue.prototype.$http.post(t.api,{query:n,variables:JSON.stringify({token:t.user.token,id:t.id})}).then(function(e){null!==e.data.data.content&&(i=e.data.data.content.content)}).catch(function(e){console.log(e),i=""});case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}},e)}));return e}()},{key:"pullDataAggs",value:function(e){return new Promise(function(t,n){window.Vue.prototype.$http.post(e.api,{query:"query search($token: String, $body: JSON, $site: String) {\n            aggs: search(token: $token, body: $body, site: $site),\n        }",variables:JSON.stringify({token:e.user.token,body:e.aggs,site:e.site})}).then(function(e){t(e.data.data)}).catch(function(e){console.log(e),n(null)})})}},{key:"pullFilterAggsReport",value:function(){function e(e){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="query search($token: String, $body: JSON, $site: String) {\n          \n            aggs: search(token: $token, body: $body, site: $site),\n    \n        }",i={size:0,query:{bool:{must:[]}},aggs:{group_by:{terms:{size:t.rows,field:t.countField},aggs:{aggregations:{top_hits:{sort:[{order:"desc"}],_source:{includes:[t.keyField]},size:1}}}}}},null!==t.entity&&void 0!==t.entity&&""!==t.entity&&(i.query.bool.filter={match:{type:t.entity}}),null!==t.site&&void 0!==t.site&&"site"!==t.entity&&"_resource"!==t.entity&&i.query.bool.must.push({match:{site:t.site}}),null!==t.condition&&void 0!==t.condition)for(r in t.condition)i.query.bool.must.push(t.condition[r]);return e.abrupt("return",new Promise(function(e,r){window.Vue.prototype.$http.post(t.api,{query:n,variables:JSON.stringify({token:t.user.token,body:i,site:t.site})}).then(function(t){e(t.data.data)}).catch(function(e){console.log(e),r(null)})}));case 6:case"end":return e.stop()}},e)}));return e}()},{key:"pullDataDetail",value:function(e){var t={query:{bool:{must:[{match:{site:e.site}},{match:{shortName:e.shortName}}],filter:{match:{type:e.entity}}}},size:1};return new Promise(function(n,i){window.Vue.prototype.$http.post(e.api,{query:"query search($token: String, $body: JSON, $site: String) {\n              \n          detail: search(token: $token, body: $body, site: $site)\n    \n        }",variables:JSON.stringify({token:e.user.token,body:t,site:e.site})}).then(function(e){n(null!==e.data.data.detail&&void 0!==e.data.data.detail?e.data.data.detail.hits.hits:[])}).catch(function(e){console.log(e),i(null)})})}},{key:"pullDataSource",value:function(e,t){return new Promise(function(n,i){window.Vue.prototype.$http.post(e,{query:t.query,variables:JSON.stringify({token:t.user.token})}).then(function(e){n(e.data.data.search.hits.hits)}).catch(function(e){console.log(e),i(null)})})}},{key:"pullDataGuest",value:function(e,t){var n={sort:t.sort,_source:{includes:t.columns},query:{bool:{must:[],filter:{match:{type:t.entity}}}},size:1e4};return null!==t.site&&void 0!==t.site&&"site"!==t.entity&&"_resource"!==t.entity&&n.query.bool.must.push({match:{site:t.site}}),void 0!==t.entityLink&&void 0!==t.entity&&n.query.bool.must.push({match:{"dictCollection._source.shortName":t.entityLink}}),new Promise(function(i,r){window.Vue.prototype.$http.post(e,{query:"query search($token: String, $body: JSON, $site: String) {\n          \n          results: search(token: $token, body: $body, site: $site)\n    \n        }",variables:JSON.stringify({token:t.user.token,body:n,site:t.site})}).then(function(e){i(e.data.data.results.hits.hits)}).catch(function(e){console.log(e),r(null)})})}},{key:"pullDataGuestAlong",value:function(e,t){var n={sort:t.sort,_source:{includes:t.columns},query:{bool:{must:[],filter:[{bool:{should:[{match:{type:t.entity}},{match:{type:t.link_along}}]}}]}},size:1e4};return null!==t.site&&void 0!==t.site&&"site"!==t.entity&&"_resource"!==t.entity&&n.query.bool.must.push({match:{site:t.site}}),void 0!==t.entityLink&&void 0!==t.entity&&n.query.bool.must.push({match:{"dictCollection._source.shortName":t.entityLink}}),new Promise(function(i,r){window.Vue.prototype.$http.post(e,{query:"query search($token: String, $body: JSON, $site: String) {\n        \n        results: search(token: $token, body: $body, site: $site)\n  \n      }",variables:JSON.stringify({token:t.user.token,body:n,site:t.site})}).then(function(e){i(e.data.data.results.hits.hits)}).catch(function(e){console.log(e),r(null)})})}},{key:"login",value:function(e,t){return new Promise(function(n,i){window.Vue.prototype.$http.post(e,{query:"mutation login($body: JSON) {\n          user {\n            login(body: $body)\n          }\n        }",variables:JSON.stringify({body:{userName:t.userName,passWord:t.passWord}})}).then(function(e){var t=e.data.data.user.login;n(null!==t.user.token&&void 0!==t.user.token&&""!==t.user.token?t:null)}).catch(function(e){console.log(e),i(e)})})}},{key:"userNameVerify",value:function(e,t){return new Promise(function(n,i){window.Vue.prototype.$http.post(e+"/api/user",{},{headers:{username:t.username}}).then(function(e){n(e)}).catch(function(e){console.log(e),i(e)})})}},{key:"unlock",value:function(e,t){return new Promise(function(n,i){window.Vue.prototype.$http.post(e,{query:"mutation unlock($body: JSON) {\n          user {\n            unlock(body: $body)\n          }\n        }",variables:JSON.stringify({body:{userName:t.userName,passWord:t.passWord}})}).then(function(e){var t=e.data.data.user.unlock;n(null!==t.user.token&&void 0!==t.user.token&&""!==t.user.token?t:null)}).catch(function(e){console.log(e),i(e)})})}},{key:"pullAttachment",value:function(e){return new Promise(function(t,n){window.Vue.prototype.$http.post(e.api,{query:"query attachment($token: String, $id: String) {\n          \n            attachment: attachment(token: $token, id: $id)\n    \n        }",variables:JSON.stringify({token:e.user.token,id:e.id})}).then(function(e){t(e.data.data.attachment)}).catch(function(e){console.log(e),n(null)})})}}]),e}(),script={name:"vuejx-header",service:new Service,props:{user:{type:Object,default:{}},api:{type:String,default:"guest"},site:{type:String,default:"guest"},home:{type:String,default:"home"},transparent:{type:Boolean,default:!1},dark:{type:Boolean,default:!0},bgcolorstate:{type:String,default:""},bgcolor:{type:String,default:""},height:{type:Number,default:42},headerheight:{type:Number,default:100},classCss:{type:String,default:"hd__screen"},fixed:{type:Boolean,default:!1},rows:{type:Number,default:20},logo_title:{type:String,default:""}},data:function(){return{title:"",page:null,pages:null,isScrolling:!1,colorStyle:""}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.init()})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.title="",this.page=null,this.pages=null,this.isScrolling=!1,this.colorStyle=""},init:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,n=null,""!==t.bgcolorstate&&(t.colorStyle="background: "+t.bgcolorstate+" !important; border-color: "+t.bgcolorstate+" !important;"),i=t.$router.history.current,t.page=i.params.page,void 0!==i.path&&i.path.startsWith("/group/")?n={sort:[{order:"asc"},"_score"],_source:{includes:["shortName","title","custom"]},query:{bool:{must_not:[{match:{"visibility._source.shortName":"hidden"}},{exists:{field:"parent"}}],filter:{match:{type:"page"}},must:[{exists:{field:"vuejx_group"}},{wildcard:{vuejx_group:"*"}},{match:{site:t.site}}]}},size:t.rows}:void 0!==i.path&&i.path.startsWith("/web/")&&(n={sort:[{order:"asc"},"_score"],_source:{includes:["shortName","title","custom"]},query:{bool:{must_not:[{match:{"visibility._source.shortName":"hidden"}},{exists:{field:"parent"}}],filter:{match:{type:"page"}},must:[{exists:{field:"vuejx_web"}},{wildcard:{vuejx_web:"*"}},{match:{site:t.site}}]}},size:t.rows}),e.next=8,t.$options.service.pullDataList(n,{api:t.api,user:t.user,site:t.site});case 8:r=e.sent,t.pages=r.hits;case 10:case"end":return e.stop()}},e,this)}));return e}(),toPage:function(e){window.Vue.redirect([],!0,e,!0)},toHome:function(){window.Vue.redirect([],!0,this.home)},onScroll:function(){this.isScrolling=(window.pageYOffset||document.documentElement.scrollTop||0)>this.headerheight,this.isScrolling&&""!==this.bgcolor&&""===this.colorStyle?this.colorStyle="background: "+this.bgcolor+" ; border-color: "+this.bgcolor+";":0===document.documentElement.scrollTop&&(""!==this.bgcolorstate?this.colorStyle="background: "+this.bgcolorstate+"; border-color: "+this.bgcolorstate+";":this.colorStyle="")}}},normalizeComponent_1=normalizeComponent;const __vue_script__=script;var __vue_render__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("header_top"),e._v(" "),e._t("header",[n("v-app-bar",{directives:[{name:"scroll",rawName:"v-scroll",value:e.onScroll,expression:"onScroll"}],staticClass:"py-0",class:e.classCss,style:e.colorStyle,attrs:{fixed:!!e.fixed||e.isScrolling,absolute:!e.fixed&&!e.isScrolling,height:e.height,color:e.transparent?"transparent":"primary",dark:e.dark,flat:e.isScrolling,"clipped-left":"",app:""}},[e._t("logo",[n("v-icon",{attrs:{dark:e.dark},on:{click:e.toHome}},[e._v("mdi-vuejs")]),e._v(" "),n("v-btn",{staticClass:"px-2 mx-0 py-0 my-0",attrs:{dark:e.dark,text:"",small:""},on:{click:e.toHome}},[e._v(e._s(e.logo_title))]),e._v(" "),n("v-spacer")],{title:e.title}),e._v(" "),e._t("page",[null!==e.pages?n("v-chip-group",{attrs:{dark:e.dark,mandatory:!0},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},e._l(e.pages,function(t,i){return n("v-chip",{key:i,class:{"v-chip--active":void 0!==e.page&&e.page.startsWith(t._source.shortName)},attrs:{dark:e.dark,value:t._source.shortName},on:{click:function(n){return n.stopPropagation(),e.toPage(t._source.shortName)}}},[e._v(e._s(t._source.title))])}),1):e._e()],{pages:e.pages})],2)],{pages:e.pages}),e._v(" "),e._t("header_bottom")],2)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;const __vue_inject_styles__=void 0,__vue_scope_id__=void 0,__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var VuejxHeader=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},void 0,__vue_script__,void 0,!1,void 0,void 0,void 0),script$1={name:"vuejx-jumbotron"},isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),HEAD=document.head||document.getElementsByTagName("head")[0],styles={},browser=createInjector;const __vue_script__$1=script$1;var __vue_render__$1=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-fade-transition",{attrs:{mode:"out-in"}},[n("div",{staticClass:"section section-header gradient-light-blue section-with-offer-bar"},[n("div",{staticClass:"container"})])])},__vue_staticRenderFns__$1=[];__vue_render__$1._withStripped=!0;const __vue_inject_styles__$1=function(e){e&&e("data-v-fb4b3d66_0",{source:'\n.section-header {\n  height: 92vh;\n  max-height: 768px;\n  display: flex;\n  align-items: center;\n  background-color: #36275d;\n}\n.section {\n  margin: 0;\n  position: relative;\n}\n.gradient-light-blue:after {\n  background-color: rgba(0, 126, 255, 0.82);\n  background: linear-gradient( -45deg, rgb(66, 147, 178) 0%, rgba(33, 92, 181, 0) 100% );\n}\n.section-header:after,\n.section-bundle:after {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n  content: "";\n  top: 0;\n  left: 0;\n  z-index: 0;\n}\n',map:{version:3,sources:["/Users/binhth/Documents/production/vuejx_component/template_vuejx/src/components/ui/header/Jumbotron.vue"],names:[],mappings:";AAeA;EACA,YAAA;EACA,iBAAA;EACA,aAAA;EACA,mBAAA;EACA,yBAAA;AACA;AAEA;EACA,SAAA;EACA,kBAAA;AACA;AAEA;EACA,yCAAA;EACA,sFAAA;AACA;AACA;;EAEA,kBAAA;EACA,WAAA;EACA,YAAA;EACA,cAAA;EACA,WAAA;EACA,MAAA;EACA,OAAA;EACA,UAAA;AACA",file:"Jumbotron.vue",sourcesContent:['<template>\n  <v-fade-transition mode="out-in">\n    <div class="section section-header gradient-light-blue section-with-offer-bar">\n      <div class="container"></div>\n    </div>\n  </v-fade-transition>\n</template>\n\n<script>\nexport default {\n  name: "vuejx-jumbotron"\n};\n<\/script>\n\n<style>\n.section-header {\n  height: 92vh;\n  max-height: 768px;\n  display: flex;\n  align-items: center;\n  background-color: #36275d;\n}\n\n.section {\n  margin: 0;\n  position: relative;\n}\n\n.gradient-light-blue:after {\n  background-color: rgba(0, 126, 255, 0.82);\n  background: linear-gradient( -45deg, rgb(66, 147, 178) 0%, rgba(33, 92, 181, 0) 100% );\n}\n.section-header:after,\n.section-bundle:after {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: block;\n  content: "";\n  top: 0;\n  left: 0;\n  z-index: 0;\n}\n</style>\n']},media:void 0})},__vue_scope_id__$1=void 0,__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1;var VuejxJumbotron=normalizeComponent_1({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},__vue_inject_styles__$1,__vue_script__$1,void 0,!1,void 0,browser,void 0),script$2={name:"vuejx-footer"};const __vue_script__$2=script$2;var __vue_render__$2=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._t("footer",[n("v-footer",{staticClass:"hd__screen px-0",attrs:{absolute:""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-spacer"),e._v(" "),n("div",[e._v("Vuejx © "+e._s((new Date).getFullYear()))])],1)],1)])],2)},__vue_staticRenderFns__$2=[];__vue_render__$2._withStripped=!0;const __vue_inject_styles__$2=void 0,__vue_scope_id__$2=void 0,__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;var VuejxFooter=normalizeComponent_1({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},void 0,__vue_script__$2,void 0,!1,void 0,void 0,void 0),script$3={name:"vuejx-login-wiget",service:new Service,props:{api:{type:String,default:""},user:{type:Object,default:null},adminPage:{type:String,default:""}},data:function(){return{menu:!1,state:1,snackbar:!1,loginMess:"fail",valid:!0,lazy:!1,userName:null,passWord:null,isAuthenticated:!1}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.isAuthenticated="true"===localStorage.getItem("isAuthenticated"),console.debug("wiget login user",e.user)})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.loginMess="",this.error=null,this.userName=null,this.passWord=null},validateUserName:function(){if(this.state=1,this.$refs.form.validate()){var e=this,t={username:e.userName};e.loginMess="",e.$options.service.userNameVerify(e.api,t).then(function(t){null!==t&&!0===t.data?e.state=2:(e.state=1,e.snackbar=!0,e.loginMess="Tài khoản không tồn tại.")}).catch(function(){e.clean()})}},doLogin:function(){var e=this,t={userName:e.userName,passWord:e.passWord};e.$options.service.login(e.api,t).then(function(t){"failed"===t.result?(e.snackbar=!0,e.loginMess="Mật khẩu đăng nhập không đúng.",e.loginMess="Tài khoản không tồn tại.",e.state=2):(localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("isAuthenticated",!0),t.user.hasOwnProperty("url")?window.location.href=t.user.url:window.location.href="/web/"+t.user.site+"/home")}).catch(function(){localStorage.removeItem("user"),localStorage.setItem("isAuthenticated",!1),e.clean()})},toAdmin:function(){var e=this;e.$router.push({path:e.adminPage})}}};const __vue_script__$3=script$3;var __vue_render__$3=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form",staticClass:"vuejx__login__wiget text-xs-right",attrs:{"lazy-validation":e.lazy},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.isAuthenticated?n("v-menu",{attrs:{bottom:"",right:"",transition:"fade-transition",origin:"top left"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticClass:"mt-1",attrs:{pill:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",[e._v("mdi-account-circle")])],1),e._v("\n        "+e._s(e.user.title)+"\n        "),n("v-icon",{attrs:{right:""}},[e._v("mdi-chevron-down")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),n("v-card",{attrs:{width:"300"}},[n("v-list",{staticClass:"py-0",attrs:{dark:"",color:"primary"}},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",{attrs:{size:"42"}},[e._v("mdi-account-circle")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("strong",[e._v(e._s(e.user.title))])]),e._v(" "),n("v-list-item-subtitle",[e._v(e._s(e.user.email))])],1),e._v(" "),n("v-list-item-action",[n("v-btn",{attrs:{icon:""},on:{click:function(t){e.menu=!1}}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1)],1)],1),e._v(" "),n("v-list",{staticClass:"py-0"},[n("v-list-item",{on:{click:e.toAdmin}},[n("v-list-item-avatar",{attrs:{height:20}},[n("v-icon",[e._v("mdi-home-assistant")])],1),e._v(" "),n("v-list-item-subtitle",[n("strong",[e._v("Quản trị nội dung")])])],1),e._v(" "),n("v-list-item",{on:{click:function(){}}},[n("v-list-item-avatar",{attrs:{height:20}},[n("v-icon",[e._v("mdi-exit-to-app")])],1),e._v(" "),n("v-list-item-subtitle",[n("strong",[e._v("Đăng xuất")])])],1)],1)],1)],1):n("div",[1===e.state?n("v-text-field",{attrs:{label:"Đăng nhập",placeholder:"Tên đăng nhập...",outlined:"","append-icon":"mdi-account-arrow-right"},on:{keypress:function(t){return t.type.indexOf("key")||13===t.keyCode?(t.preventDefault(),e.validateUserName(t)):null},"click:append":e.validateUserName},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}):2===e.state?n("v-text-field",{attrs:{label:"Mật khẩu",placeholder:"Nhập mật khẩu...",outlined:"",type:"password","append-icon":"mdi-login-variant"},on:{keypress:function(t){return t.type.indexOf("key")||13===t.keyCode?(t.preventDefault(),e.validateUserName(t)):null},"click:append":e.doLogin},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}}):e._e()],1),e._v(" "),n("v-snackbar",{attrs:{bottom:!1,color:"error",left:!1,"multi-line":!1,right:!0,timeout:6e3,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n    "+e._s(e.loginMess)+"\n    "),n("v-btn",{attrs:{dark:"",text:"",icon:""},on:{click:function(t){e.snackbar=!1}}},[n("v-icon",[e._v("mdi-close-circle")])],1)],1)],1)},__vue_staticRenderFns__$3=[];__vue_render__$3._withStripped=!0;const __vue_inject_styles__$3=void 0,__vue_scope_id__$3=void 0,__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1;var VuejxLoginWiget=normalizeComponent_1({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},void 0,__vue_script__$3,void 0,!1,void 0,void 0,void 0),script$4={name:"vuejx-login",service:new Service,props:{api:{type:String,default:""}},data:function(){return{error:null,userName:null,passWord:null}},mounted:function(){var e=this;e.$nextTick(function(){e.clean()})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.error=null,this.userName=null,this.passWord=null},doLogin:function(){var e=this,t={userName:e.userName,passWord:e.passWord};e.$options.service.login(e.api,t).then(function(t){var n=t.user;console.log("useruseruser",n),null!==n&&void 0!==n&&"success"===t.result?(localStorage.setItem("user",JSON.stringify(n)),localStorage.setItem("isAuthenticated",!0),n.hasOwnProperty("url")?window.location.href=n.url:window.location.href="/web/guest/home"):(localStorage.setItem("isAuthenticated",!1),e.clean())}).catch(function(){localStorage.setItem("isAuthenticated",!1),e.clean()})}}};const __vue_script__$4=script$4;var __vue_render__$4=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-page",staticStyle:{"margin-top":"-60px",background:"#fff"}},[n("div",{staticClass:"wrapper wrapper-full-page"},[n("div",{staticClass:"page-header header-filter login-page"},[n("div",{staticClass:"container md-offset"},[n("div",{staticClass:"md-layout text-xs-center"},[n("div",{staticClass:"md-layout-item md-size-33 md-medium-size-50 md-small-size-70 md-xsmall-size-100"},[n("div",{staticClass:"md-card md-card-login md-theme-default"},[n("v-alert",{staticClass:"mb-3",staticStyle:{"border-radius":"10px"},attrs:{value:null!==e.error,outlinedcolor:"error",transition:"slide-y-reverse-transition"}},[e._v(e._s(e.error))]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),n("div",{staticClass:"md-card-actions md-alignment-right mt-3 login__social__group"},[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"mdi-account-circle",label:"Login",type:"text","single-line":""},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),e._v(" "),n("v-text-field",{attrs:{"prepend-icon":"mdi-lock",label:"Password",type:"password","single-line":""},on:{keypress:function(t){return t.type.indexOf("key")||13===t.keyCode?(t.preventDefault(),e.doLogin(t)):null}},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}}),e._v(" "),n("v-btn",{staticClass:"mt-3",attrs:{block:"",outlined:""},on:{click:e.doLogin}},[e._v("Go")])],1)],1),e._v(" "),e._m(2)],1)])])])])])])},__vue_staticRenderFns__$4=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-card-header md-card-header-green"},[n("h4",{staticClass:"title"},[e._v("Log in")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-card-content pt-3"},[n("p",{staticClass:"text-center",staticStyle:{"font-size":"16px"}},[e._v("New to Vuejx ?")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"small mt-3"},[n("div",[e._v("\n                  * By logging in, you agree to our\n                  "),n("a",{attrs:{href:"#/login"}},[e._v("Terms of Use")]),e._v(" and to receive emails & updates\n                ")])])}];__vue_render__$4._withStripped=!0;const __vue_inject_styles__$4=void 0,__vue_scope_id__$4=void 0,__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=!1;var VuejxLogin=normalizeComponent_1({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},void 0,__vue_script__$4,void 0,!1,void 0,void 0,void 0),script$5={name:"vuejx-unlock",service:new Service,props:{api:{type:String,default:""}},data:function(){return{error:null,userName:null,passWord:null}},mounted:function(){var e=this;e.$nextTick(function(){e.clean();var t=JSON.parse(localStorage.getItem("user"));e.userName=t.userName})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.error=null,this.userName=null,this.passWord=null},doUnlock:function(){var e=this,t={userName:e.userName,passWord:e.passWord};e.$options.service.unlock(e.api,t).then(function(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("isAuthenticated",!0),e.user.hasOwnProperty("url")?window.location.href=e.user.url:window.location.href="/web/guest/home"}).catch(function(){e.clean()})}}};const __vue_script__$5=script$5;var __vue_render__$5=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"full-page",staticStyle:{"margin-top":"-60px",background:"#fff"}},[n("div",{staticClass:"wrapper wrapper-full-page"},[n("div",{staticClass:"page-header header-filter login-page"},[n("div",{staticClass:"container md-offset"},[n("div",{staticClass:"md-layout text-xs-center"},[n("div",{staticClass:"md-layout-item md-size-33 md-medium-size-50 md-small-size-70 md-xsmall-size-100"},[n("div",{staticClass:"md-card md-card-login md-theme-default"},[n("v-alert",{staticClass:"mb-3",staticStyle:{"border-radius":"10px"},attrs:{value:null!==e.error,outlinedcolor:"error",transition:"slide-y-reverse-transition"}},[e._v(e._s(e.error))]),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"md-card-content pt-3"},[n("p",{staticClass:"text-center",staticStyle:{"font-size":"16px"}},[e._v(e._s(e.userName))])]),e._v(" "),n("div",{staticClass:"md-card-actions md-alignment-right mt-3 login__social__group"},[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"mdi-lock",label:"Password",type:"password","single-line":""},on:{keypress:function(t){return t.type.indexOf("key")||13===t.keyCode?(t.preventDefault(),e.doUnlock(t)):null}},model:{value:e.passWord,callback:function(t){e.passWord=t},expression:"passWord"}}),e._v(" "),n("v-btn",{staticClass:"mt-3",attrs:{block:"",outlined:""},on:{click:e.doUnlock}},[e._v("Go")])],1)],1)],1)])])])])])])},__vue_staticRenderFns__$5=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"md-card-header md-card-header-green"},[n("h4",{staticClass:"title"},[e._v("Unlock")])])}];__vue_render__$5._withStripped=!0;const __vue_inject_styles__$5=void 0,__vue_scope_id__$5=void 0,__vue_module_identifier__$5=void 0,__vue_is_functional_template__$5=!1;var VuejxUnlock=normalizeComponent_1({render:__vue_render__$5,staticRenderFns:__vue_staticRenderFns__$5},void 0,__vue_script__$5,void 0,!1,void 0,void 0,void 0),script$6={name:"vuejx-content",props:{page:{type:String,default:""}}};const __vue_script__$6=script$6;var __vue_render__$6=function(){var e=this,t=e.$createElement,n=e._self._c||t;return""!==e.page?n("v-content",{staticClass:"mb-5",staticStyle:{width:"100%"}},[n("div",{staticStyle:{width:"100%"}},[n("v-fade-transition",[n("router-view")],1)],1)]):e._e()},__vue_staticRenderFns__$6=[];__vue_render__$6._withStripped=!0;const __vue_inject_styles__$6=void 0,__vue_scope_id__$6=void 0,__vue_module_identifier__$6=void 0,__vue_is_functional_template__$6=!1;var VuejxContent=normalizeComponent_1({render:__vue_render__$6,staticRenderFns:__vue_staticRenderFns__$6},void 0,__vue_script__$6,void 0,!1,void 0,void 0,void 0),script$7={name:"vuejx-content-view",service:new Service,props:{id:{type:String,default:""},api:{type:String,default:""},user:{type:Object,default:{}}},data:function(){return{content:null}},mounted:function(){var e=this;e.$nextTick(_asyncToGenerator(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.content=null,""===e.id){t.next=8;break}return n={user:e.user,api:e.api,id:e.id},t.next=5,e.$options.service.pullDataContent(n);case 5:e.content=t.sent,t.next=9;break;case 8:e.content=null;case 9:case"end":return t.stop()}},t)})))}};const __vue_script__$7=script$7;var __vue_render__$7=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.content?n("div",{domProps:{innerHTML:e._s(e.content)}}):e._e()},__vue_staticRenderFns__$7=[];__vue_render__$7._withStripped=!0;const __vue_inject_styles__$7=void 0,__vue_scope_id__$7=void 0,__vue_module_identifier__$7=void 0,__vue_is_functional_template__$7=!1;var VuejxContentView=normalizeComponent_1({render:__vue_render__$7,staticRenderFns:__vue_staticRenderFns__$7},void 0,__vue_script__$7,void 0,!1,void 0,void 0,void 0),script$8={name:"vuejx-chips-aggs",service:new Service,props:{group_by:{type:String,default:""},group_by_key:{type:String,default:""},title_header:{type:String,default:""},report:{type:Boolean,default:!1},data:{type:Object,default:{}},multiple:{type:Boolean,default:!0},year:{type:Boolean,default:!1},toPage:{type:String,default:""},showMenu:{type:Boolean,default:!0}},data:function(){return{filter:[]}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.showMenu&&e.init();var t=e.$router.history.current.query;if(null!==t[e.group_by_key]&void 0!==t[e.group_by_key]){var n=t[e.group_by_key].split(",");for(var i in n)e.filter.push(String(n[i]))}})},beforeDestroy:function(){this.clean()},methods:{showMenuToogle:function(){this.showMenu=!this.showMenu,this.showMenu&&this.init()},clean:function(){this.filter=[]},init:function(){var e=this,t=[];if(e.data.hasOwnProperty("aggregations")){var n=!0,i=!1,r=void 0;try{for(var a,o=e.data.aggregations.buckets[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(Array.isArray(s[e.group_by].hits.hits[0]._source[e.group_by])){var u=!0,l=!1,c=void 0;try{for(var _,d=s[e.group_by].hits.hits[0]._source[e.group_by][Symbol.iterator]();!(u=(_=d.next()).done);u=!0){var v=_.value;String(v._source.shortName)===String(s.key)&&(s.title=v._source.title)}}catch(e){l=!0,c=e}finally{try{u||null==d.return||d.return()}finally{if(l)throw c}}}else s.title=s[e.group_by].hits.hits[0]._source[e.group_by]._source.title}}catch(e){i=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw r}}if(e.report){var p=!0,m=!1,f=void 0;try{for(var h,y=e.data.aggregations.buckets[Symbol.iterator]();!(p=(h=y.next()).done);p=!0){var g=h.value;t.push({name:g.title,y:g.doc_count})}}catch(e){m=!0,f=e}finally{try{p||null==y.return||y.return()}finally{if(m)throw f}}}e.$emit("data_report",t)}else{var b=!0,$=!1,k=void 0;try{for(var x,w=e.data[e.group_by].buckets[Symbol.iterator]();!(b=(x=w.next()).done);b=!0){var S=x.value;if(e.year){var C="";S.hasOwnProperty("from")&&(C+=new Date(S.from).getFullYear()),S.hasOwnProperty("to")&&(S.hasOwnProperty("from")&&(C+=" - "),C+=new Date(S.to).getFullYear()),S.title=C}else S.title=S.key.replace(/\.0/g,"").replace(/-/g," - ");e.report&&t.push({name:S.title,y:S.doc_count})}}catch(e){$=!0,k=e}finally{try{b||null==w.return||w.return()}finally{if($)throw k}}e.$emit("data_report",t)}},toPageDesc:function(e){var t=this;if(t.multiple)""!==t.toPage?window.Vue.redirect([{key:t.group_by_key,value:t.filter.toString()},{key:"shortName",value:""}],!1,t.toPage):window.Vue.redirect([{key:t.group_by_key,value:t.filter.toString()}],!1);else{var n=t.$router.history.current.query,i={key:t.group_by_key,value:e.key};void 0!==n[t.group_by_key]&&n[t.group_by_key]===e.key&&(i.value=""),""!==t.toPage?window.Vue.redirect([i,{key:"shortName",value:""}],!1,t.toPage):window.Vue.redirect([i],!1)}}}};const __vue_script__$8=script$8;var __vue_render__$8=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vuejx__chips_filter"},[e.title_header?n("div",{staticClass:"v-input--hide-details theme--light v-text-field v-text-field--single-line v-text-field--solo v-text-field--enclosed mb-1"},[n("div",{staticClass:"v-input__control"},[n("div",{staticClass:"v-input__slot px-1"},[n("div",{staticClass:"v-input__prepend-inner pr-0"},[n("div",{staticClass:"v-input__icon v-input__icon--prepend-inner"},[n("v-icon",{staticStyle:{color:"inherit"},attrs:{size:"15"}},[e._v("mdi-filter")])],1)]),e._v(" "),n("div",{staticClass:"v-text-field__slot"},[n("div",{staticStyle:{"font-weight":"bold",color:"inherit","font-size":"14px"}},[e._v(e._s(e.title_header))])]),e._v(" "),n("div",{staticClass:"v-input__append-inner pr-1",staticStyle:{cursor:"pointer"}},[n("div",[n("small",[e._v("( "+e._s(e.data.doc_count)+" )")])])]),e._v(" "),n("div",{staticClass:"v-input__append-inner pr-1",staticStyle:{cursor:"pointer"},on:{click:e.showMenuToogle}},[n("div",{staticClass:"v-input__icon"},[e.showMenu?n("v-icon",{staticStyle:{color:"inherit"},attrs:{size:"20"}},[e._v("mdi-chevron-double-up")]):n("v-icon",{staticStyle:{color:"inherit"},attrs:{size:"20"}},[e._v("mdi-chevron-double-down")])],1)])])])]):e._e(),e._v(" "),e._t("default",[e.data.hasOwnProperty("aggregations")?[null!==e.data.aggregations.buckets&&e.showMenu?n("v-chip-group",{attrs:{"active-class":"black--text",column:!0,multiple:e.multiple},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},e._l(e.data.aggregations.buckets,function(t,i){return n("v-chip",{key:i,attrs:{value:t.key},on:{input:function(n){return e.toPageDesc(t)}}},[e._v("\n          "+e._s(t.title)+"\n          "),n("span",{staticClass:"counter"},[e._v(e._s(t.doc_count))])])}),1):e._e()]:[null!==e.data[e.group_by].buckets&&e.showMenu?n("v-chip-group",{attrs:{"active-class":"black--text",column:!0,multiple:e.multiple},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}},e._l(e.data[e.group_by].buckets,function(t,i){return n("v-chip",{key:i,attrs:{value:t.key},on:{input:function(n){return e.toPageDesc(t)}}},[e._v("\n          "+e._s(t.title)+"\n          "),n("span",{staticClass:"counter"},[e._v(e._s(t.doc_count))])])}),1):e._e()]],{data:e.data.hasOwnProperty("aggregations")?e.data.aggregations.buckets:e.data[e.group_by].buckets})],2)},__vue_staticRenderFns__$8=[];__vue_render__$8._withStripped=!0;const __vue_inject_styles__$8=void 0,__vue_scope_id__$8=void 0,__vue_module_identifier__$8=void 0,__vue_is_functional_template__$8=!1;var VuejxUIAggs=normalizeComponent_1({render:__vue_render__$8,staticRenderFns:__vue_staticRenderFns__$8},void 0,__vue_script__$8,void 0,!1,void 0,void 0,void 0),script$9={name:"vuejx-tree-aggs",service:new Service,props:{user:{type:Object,default:{}},title_header:{type:String,default:"guest"},api:{type:String,default:"guest"},site:{type:String,default:"guest"},query:{type:Object,default:{}},data:{type:Object,default:{}},group_by:{type:String,default:"guest"},expandAll:{type:Boolean,default:!0},sum:{type:Boolean,default:!1},report:{type:Boolean,default:!1},toPage:{type:String,default:""},showMenu:{type:Boolean,default:!0}},data:function(){return{search:null,activeArray:[],open:[],tree:[],items:[]}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.init()})},computed:{filter:function(){return this.caseSensitive?function(e,t,n){return e[n].indexOf(t)>-1}:void 0}},beforeDestroy:function(){this.clean()},methods:{showMenuToogle:function(){this.showMenu=!this.showMenu,this.showMenu&&this.init()},clean:function(){this.search=null,this.activeArray=[],this.open=[],this.tree=[],this.items=[]},init:function(){var e=this,t=[],n=[];e.query.hasOwnProperty("query")&&e.query.hasOwnProperty("bool")&&!e.query.hasOwnProperty("must")&&(e.query.query.bool.must=[]);var i=[],r={},a=!0,o=!1,s=void 0;try{for(var u,l=e.data.aggregations.buckets[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value;r[c.key]=c.doc_count,i.push({match:{shortName:c.key}})}}catch(e){o=!0,s=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw s}}i.push({exists:{field:"root"}}),e.query.query.bool.must.push({bool:{should:i}});e.$router.history.current;var _={user:e.user,entity:e.entity,api:e.api,site:e.site,aggs:e.query};e.items=[],e.$options.service.pullDataAggs(_).then(function(i){var a=i.aggs.hits.hits,o=[];for(var s in a)a[s]._source.hasOwnProperty("parent")||(e.items.push({code:a[s]._source.shortName,name:a[s]._source.title,counter:r[a[s]._source.shortName],children:[],file:!1}),e.expandAll&&o.push(a[s]._source.shortName));for(var u in e.items){var l=0,c="";for(var _ in a)a[_]._source.hasOwnProperty("parent")&&(a[_]._source.parent._source.shortName===e.items[u].code||a[_]._source.parent._source.shortName.startsWith(e.items[u].code))&&(e.sum&&(l+=void 0!==r[a[_]._source.shortName]?parseInt(r[a[_]._source.shortName]):0,c=c+a[_]._source.shortName+","),e.items[u].children.push({code:a[_]._source.shortName,name:a[_]._source.title,counter:r[a[_]._source.shortName],file:!0}),e.report&&n.push({name:a[_]._source.title,y:r[a[_]._source.shortName]}));e.sum&&(e.items[u].counter=(void 0!==e.items[u].counter?parseInt(e.items[u].counter):0)+l,e.items[u].code=c+e.items[u].code,o.push(e.items[u].code))}if(e.expandAll&&(e.open=o),e.report){var d=!0,v=!1,p=void 0;try{for(var m,f=e.items[Symbol.iterator]();!(d=(m=f.next()).done);d=!0){var h=m.value;h.file||t.push({name:h.name,y:h.counter})}}catch(e){v=!0,p=e}finally{try{d||null==f.return||f.return()}finally{if(v)throw p}}}e.$emit("data_report",t),e.$emit("data_report_detail",n)}).catch(function(){e.clean()})},toPageDesc:function(e,t){var n=this,i={key:n.group_by,value:e.code};e.hasOwnProperty("children")?n.$router.history.current.query[n.group_by]===e.code&&(i.value=""):t&&(i.value=""),""!==n.toPage?window.Vue.redirect([i,{key:"shortName",value:""}],!1,n.toPage):window.Vue.redirect([i],!1)}}};const __vue_script__$9=script$9;var __vue_render__$9=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vuejx__tree_filter mb-1"},[e.title_header?n("div",{staticClass:"v-input--hide-details theme--light v-text-field v-text-field--single-line v-text-field--solo v-text-field--enclosed mb-1"},[n("div",{staticClass:"v-input__control"},[n("div",{staticClass:"v-input__slot px-1"},[n("div",{staticClass:"v-input__prepend-inner pr-0"},[n("div",{staticClass:"v-input__icon v-input__icon--prepend-inner"},[n("v-icon",{staticStyle:{color:"inherit"},attrs:{size:"15"}},[e._v("mdi-filter")])],1)]),e._v(" "),n("div",{staticClass:"v-text-field__slot"},[n("div",{staticStyle:{"font-weight":"bold",color:"inherit","font-size":"14px"}},[e._v(e._s(e.title_header))])]),e._v(" "),n("div",{staticClass:"v-input__append-inner pr-1",staticStyle:{cursor:"pointer"}},[n("div",[n("small",{staticStyle:{"font-size":"13px"}},[e._v("( "+e._s(e.data.doc_count)+" )")])])]),e._v(" "),n("div",{staticClass:"v-input__append-inner pr-1",staticStyle:{cursor:"pointer"},on:{click:e.showMenuToogle}},[n("div",{staticClass:"v-input__icon"},[e.showMenu?n("v-icon",{staticStyle:{color:"inherit"},attrs:{size:"20"}},[e._v("mdi-chevron-double-up")]):n("v-icon",{staticStyle:{color:"inherit"},attrs:{size:"20"}},[e._v("mdi-chevron-double-down")])],1)])])])]):e._e(),e._v(" "),e._t("search",[e.showMenu?n("v-text-field",{attrs:{label:"Search ...",flat:"",solo:"","hide-details":"",clearable:"","prepend-inner-icon":"mdi-folder-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}):e._e()]),e._v(" "),e._t("search",[e.showMenu?n("v-treeview",{attrs:{search:e.search,filter:e.filter,items:e.items,open:e.open,active:e.activeArray,activatable:"","item-key":"code","open-on-click":""},on:{"update:open":function(t){e.open=t}},scopedSlots:e._u([{key:"prepend",fn:function(t){var i=t.item,r=t.open,a=t.active;return[i.file?e._e():n("v-icon",{staticClass:"v-treeview-node__label__icon",on:{click:function(t){return e.toPageDesc(i,a)}}},[e._v(e._s(r?"mdi-folder-open":"mdi-folder"))])]}},{key:"label",fn:function(t){var i=t.item,r=t.active;return[n("div",{staticClass:"v-treeview-node__label__content",class:{"v-treeview-node__label__content__leaf":i.file},on:{click:function(t){return e.toPageDesc(i,r)}}},[e._v(e._s(i.name))]),e._v(" "),n("div",{staticClass:"counter",on:{click:function(t){return e.toPageDesc(i,r)}}},[e._v(e._s(i.counter))])]}}],null,!1,912930631)}):e._e()],{data:e.items})],2)},__vue_staticRenderFns__$9=[];__vue_render__$9._withStripped=!0;const __vue_inject_styles__$9=void 0,__vue_scope_id__$9=void 0,__vue_module_identifier__$9=void 0,__vue_is_functional_template__$9=!1;var VuejxUIAggsTree=normalizeComponent_1({render:__vue_render__$9,staticRenderFns:__vue_staticRenderFns__$9},void 0,__vue_script__$9,void 0,!1,void 0,void 0,void 0),script$a={props:{id:{type:String,default:"id"},value:{type:Array,default:[]}},mounted:function(){var e=this;e.$nextTick(function(){e.init()})},methods:{init:function(){Highcharts.chart(this.id,this.value)}}};const __vue_script__$a=script$a;var __vue_render__$a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticStyle:{"min-width":"400px","min-height":"200px","max-width":"1000px !important","max-height":"300px !important",width:"100%",height:"100%"},attrs:{id:e.id}})},__vue_staticRenderFns__$a=[];__vue_render__$a._withStripped=!0;const __vue_inject_styles__$a=void 0,__vue_scope_id__$a=void 0,__vue_module_identifier__$a=void 0,__vue_is_functional_template__$a=!1;var ChartRender=normalizeComponent_1({render:__vue_render__$a,staticRenderFns:__vue_staticRenderFns__$a},void 0,__vue_script__$a,void 0,!1,void 0,void 0,void 0),script$b={name:"vuejx-chart-dynamic",components:{"chart-render":ChartRender},service:new Service,props:{id:{type:String,default:""},user:{type:Object,default:{}},api:{type:String,default:"guest"},site:{type:String,default:"guest"},config:{type:Object,default:{}}}};const __vue_script__$b=script$b;var __vue_render__$b=function(){var e=this,t=e.$createElement;return(e._self._c||t)("chart-render",{attrs:{id:"chart__"+e.id,value:e.config}})},__vue_staticRenderFns__$b=[];__vue_render__$b._withStripped=!0;const __vue_inject_styles__$b=void 0,__vue_scope_id__$b=void 0,__vue_module_identifier__$b=void 0,__vue_is_functional_template__$b=!1;var VuejxUIChart=normalizeComponent_1({render:__vue_render__$b,staticRenderFns:__vue_staticRenderFns__$b},void 0,__vue_script__$b,void 0,!1,void 0,void 0,void 0),admin={type:0,form:[{model:"createdAt",type:"view",format:"MM/dd/yyyy",class:"xs6 sm3",label:"Created date:"},{model:"modifiedAt",type:"view",format:"MM/dd/yyyy",class:"xs6 sm3",label:"Modified date:"},{model:"shortName",type:"text",class:"xs12 sm6",label:"Sort Name:"},{model:"title",type:"text",class:"xs12",label:"Title:"},{model:"description",type:"textarea",class:"xs12",label:"Description:"},{model:"config",type:"codemirror",class:"xs12",label:"Config:"},{model:"order",type:"number",class:"xs6",label:"Order:"},{model:"status",type:"autocomplete",object:!0,class:"xs6",label:"Status:",itemText:"_source.title",itemValue:"_source.shortName",data:[{_source:{shortName:"activate",title:"Activate"}},{_source:{shortName:"deactivate",title:"Deactivate"}}]},{model:"role",type:"autocomplete",object:!0,multiple:!0,class:"xs12",label:"Roles:",itemText:"_source.title",itemValue:"_source.shortName",link:"role",column:["shortName","title"],sort:[{order:"asc"},"_score"]},{model:"databaseType",type:"autocomplete",object:!0,multiple:!0,class:"xs12",label:"DatabaseType:",itemText:"_source.title",itemValue:"_source.shortName",link:"dict_item",link_item:"database",link_columns:["shortName","title"],link_sort:[{order:"asc"},"_score"]},{model:"syncSite",dataType:"boolean",type:"autocomplete",class:"xs12 sm6",label:"Public data:",itemText:"_source.title",itemValue:"_source.shortName",data:[{_source:{shortName:!0,title:"Public"}},{_source:{shortName:!1,title:"Private"}}]}]},constant={_resource:{title:"Entities management",type:"_resource",columns:["shortName","title","description","order","status"],config_columns:[{field:"_source.shortName",headerText:"Sort Name",textAlign:"left",width:220,minWidth:220},{field:"_source.title",headerText:"Title",textAlign:"left",width:320,minWidth:320},{field:"_source.description",headerText:"Description",textAlign:"left"},{field:"_source.order",headerText:"Order",textAlign:"right",width:120,minWidth:120},{field:"_source.status._source.title",displayAsCheckBox:!0,headerText:"Status",textAlign:"center",width:120,minWidth:120}],sort:[{order:"asc"},"_score"],add:"add",update:"update",delete:"delete",config:admin}},_props,script$c={name:"vuejx-admin-data",service:new Service,props:(_props={itemsLimited:{type:String,default:""},items:{type:Array,default:[]},api:{type:String,default:""},site:{type:String,default:""}},_defineProperty(_props,"site",{type:String,default:""}),_defineProperty(_props,"user",{type:Object,default:{}}),_defineProperty(_props,"dark",{type:Boolean,default:!1}),_props),data:function(){return{navigationDrawer:!0,item:0,entity:null,render:!1,constant:constant}},watch:{entity:function(e){this.clean();for(var t in this.items)if(this.items[t].code===e){this.render=!0;break}}},mounted:function(){var e=this;e.$nextTick(function(){e.clean();var t=e.$router.history.current;t.query.hasOwnProperty("entity")?e.entity=t.query.entity:e.entity=e.items[0].code;var n=0;for(var i in e.items){if(e.items[i].code===t.query.entity){e.item=n;break}n+=1}})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.render=!1},toPageEntity:function(e,t){this.entity=t,this.$router.push(e)}}};const __vue_script__$c=script$c;var __vue_render__$c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{staticClass:"grey lighten-4",staticStyle:{"z-index":"0"},attrs:{dark:e.dark,fixed:"",clipped:"",app:"",floating:"",persistent:"",width:"240"},model:{value:e.navigationDrawer,callback:function(t){e.navigationDrawer=t},expression:"navigationDrawer"}},[n("perfect-scrollbar",[n("v-list",{staticClass:"pb-0",attrs:{dense:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.items,function(t,i){return n("v-list-item",{key:i},[n("v-list-item-action",{on:{click:function(n){return e.toPageEntity(t.link,t.code)}}},[n("v-icon",[e._v(e._s(t.icon))])],1),e._v(" "),n("v-list-item-content",{on:{click:function(n){return e.toPageEntity(t.link,t.code)}}},[n("v-list-item-title",[e._v(e._s(t.title))])],1)],1)}),1)],1)],1)],1),e._v(" "),n("perfect-scrollbar",{staticStyle:{height:"90vh"}},[e.render?n("vuejx-table",{attrs:{user:e.user,limited:!0,entity:e.entity,site:e.site,api:e.api,config:e.constant,"items-limited":e.itemsLimited}}):e._e()],1)],1)},__vue_staticRenderFns__$c=[];__vue_render__$c._withStripped=!0;const __vue_inject_styles__$c=void 0,__vue_scope_id__$c=void 0,__vue_module_identifier__$c=void 0,__vue_is_functional_template__$c=!1;var VuejxUIAdmin=normalizeComponent_1({render:__vue_render__$c,staticRenderFns:__vue_staticRenderFns__$c},void 0,__vue_script__$c,void 0,!1,void 0,void 0,void 0),script$d={name:"vuejx-menu-filter",service:new Service,props:{backURL:{type:String,default:""},items:{type:Array,default:[{text:"Chi tiết tạp chí",code:"detail",icon:"mdi-format-list-bulleted-square"},{text:"Nguồn dữ liệu",code:"source",icon:"mdi-link-box-variant"}]}},data:function(){return{showMenu:!0,item:0}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.init()})},beforeDestroy:function(){this.clean()},methods:{clean:function(){},init:function(){var e=this,t=e.$router.history.current;e.item=0;var n="";if(t.query.hasOwnProperty("menu")&&(n=t.query.menu),e.items.length>0&&(n=e.items[0].value,t.query.hasOwnProperty("menu"))){var i=0,r=!0,a=!1,o=void 0;try{for(var s,u=e.items[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;if(l.code===t.query.menu){e.item=i,n=l.value;break}i+=1}}catch(e){a=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}}e.$emit("menu",n)},menuClick:function(e,t){this.$emit("action",e)},toBackURL:function(){this.$emit("back")}}};const __vue_script__$d=script$d;var __vue_render__$d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vuejx__menu_filter"},[n("div",{staticClass:"v-list v-sheet v-sheet--tile theme--light v-list--dense v-list--flat v-list--nav px-0 py-0 white"},[n("div",{staticClass:"v-item-group theme--light v-list-item-group primary--text"},[n("div",{staticClass:"v-list-item theme--light"},[n("div",{staticClass:"v-list-item__icon",staticStyle:{cursor:"pointer"},on:{click:e.toBackURL}},[n("v-icon",[e._v("mdi-backburger")])],1),e._v(" "),n("div",{staticClass:"v-list-item__content",staticStyle:{cursor:"pointer"},on:{click:e.toBackURL}},[n("div",{staticClass:"v-list-item__title",staticStyle:{"font-weight":"bold"}},[e._v("Quay lại")])]),e._v(" "),n("div",{staticClass:"v-list-item__icon",staticStyle:{cursor:"pointer"},on:{click:function(t){e.showMenu=!e.showMenu}}},[e.showMenu?n("v-icon",[e._v("mdi-chevron-double-up")]):n("v-icon",[e._v("mdi-chevron-double-down")])],1)])])]),e._v(" "),e.showMenu?n("v-list",{staticClass:"pa-0",attrs:{nav:"",dense:"",flat:""}},[n("v-list-item-group",{attrs:{color:"primary"},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}},e._l(e.items,function(t,i){return n("v-list-item",{key:t.code,on:{click:function(n){return e.menuClick(t,i)}}},[n("v-list-item-icon",[isNaN(t.icon)?n("v-icon",{domProps:{textContent:e._s(t.icon)}}):n("span",{staticClass:"pl-2"},[e._v(e._s(t.icon)+".")])],1),e._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.text)}})],1)],1)}),1)],1):e._e()],1)},__vue_staticRenderFns__$d=[];__vue_render__$d._withStripped=!0;const __vue_inject_styles__$d=void 0,__vue_scope_id__$d=void 0,__vue_module_identifier__$d=void 0,__vue_is_functional_template__$d=!1;var VuejxUIMenu=normalizeComponent_1({render:__vue_render__$d,staticRenderFns:__vue_staticRenderFns__$d},void 0,__vue_script__$d,void 0,!1,void 0,void 0,void 0),script$e={name:"vuejx-image-upload",service:new Service,props:{editor:{type:Boolean,default:!0},imageClass:{type:String,default:""},inputClass:{type:String,default:""},accept:{type:String,default:"image/png,image/gif,image/jpeg"},maxSize:{type:Number,default:10},disablePreview:{type:Boolean,default:!1},fileName:{type:String,default:""},placeholder:{type:String,default:"Click here to upload image"},defaultPreview:{type:String,default:""},model:{type:String,default:""},id_attachment:{type:String,default:""},api:{type:String,default:""},user:{type:Object,default:{}},maxHeight:{type:String,default:"100%"},maxWidth:{type:String,default:"100%"}},data:function(){return{file:null,preview:null,visiblePreview:!1}},computed:{wrapperStyles:function(){return{position:"relative",width:"100%"}},fileInputStyles:function(){return{width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,overflow:"hidden",outline:"none",cursor:"pointer"}},textInputStyles:function(){return{width:"100%",cursor:"pointer"}},previewImage:function(){return this.preview||this.defaultPreview}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.init()})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.file=null,this.preview=null,this.visiblePreview=!1},init:function(){var e=this,t={api:e.api,user:e.user,id:e.id_attachment};e.$options.service.pullAttachment(t).then(function(t){e.fileName=t.name,e.preview=t.attachment}).catch(function(){e.clean()})},onChange:function(e){var t=this,n=e.target.files||e.dataTransfer.files;if(n.length){var i=n[0],r=i.size&&i.size/Math.pow(1e3,2);if(r>this.maxSize)return void this.$emit("size-exceeded",r);this.file=i,this.$emit("file",{model:this.model,file:i});var a=new FileReader;a.onload=function(e){var n=e.target.result;n&&(t.$emit("load",{model:t.model,dataURI:n}),t.preview=n)},a.readAsDataURL(i)}}}};const __vue_script__$e=script$e;var __vue_render__$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-base64-file-upload",staticStyle:{display:"grid"}},[e.editor?n("div",{staticClass:"vue-base64-file-upload-wrapper mb-2",style:e.wrapperStyles},[n("input",{style:e.fileInputStyles,attrs:{type:"file",accept:e.accept},on:{change:e.onChange}}),e._v(" "),n("input",{class:e.inputClass,style:e.textInputStyles,attrs:{type:"text",placeholder:e.placeholder,disabled:""},domProps:{value:e.fileName||e.file&&e.file.name}})]):e._e(),e._v(" "),n("img",{directives:[{name:"show",rawName:"v-show",value:e.previewImage&&!e.disablePreview,expression:"previewImage && !disablePreview"}],class:e.imageClass,style:{"max-width":e.maxWidth,"max-height":e.maxHeight,margin:"0 auto",width:"auto","border-radius":"0"},attrs:{src:e.previewImage}})])},__vue_staticRenderFns__$e=[];__vue_render__$e._withStripped=!0;const __vue_inject_styles__$e=void 0,__vue_scope_id__$e=void 0,__vue_module_identifier__$e=void 0,__vue_is_functional_template__$e=!1;var VuejxImageUpload=normalizeComponent_1({render:__vue_render__$e,staticRenderFns:__vue_staticRenderFns__$e},void 0,__vue_script__$e,void 0,!1,void 0,void 0,void 0),script$f={name:"vuejx-image-preview",service:new Service,props:{editor:{type:Boolean,default:!0},imageClass:{type:String,default:""},inputClass:{type:String,default:""},accept:{type:String,default:"image/png,image/gif,image/jpeg"},maxSize:{type:Number,default:10},disablePreview:{type:Boolean,default:!1},fileName:{type:String,default:""},placeholder:{type:String,default:"Click here to upload image"},defaultPreview:{type:String,default:""},model:{type:String,default:""},id_attachment:{type:String,default:""},api:{type:String,default:""},user:{type:Object,default:{}},classCss:{type:String,default:""},maxWidth:{type:Number},maxHeight:{type:Number}},data:function(){return{file:null,preview:null,visiblePreview:!1}},computed:{wrapperStyles:function(){return{position:"relative",width:"100%"}},fileInputStyles:function(){return{width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,overflow:"hidden",outline:"none",cursor:"pointer"}},textInputStyles:function(){return{width:"100%",cursor:"pointer"}},previewImage:function(){return this.preview||this.defaultPreview}},mounted:function(){var e=this;e.$nextTick(function(){e.clean(),e.init()})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.file=null,this.preview=null,this.visiblePreview=!1},init:function(){var e=this,t={api:e.api,user:e.user,id:e.id_attachment};e.$options.service.pullAttachment(t).then(function(t){e.fileName=t.name,e.preview=t.attachment}).catch(function(){e.clean()})},onChange:function(e){var t=this,n=e.target.files||e.dataTransfer.files;if(n.length){var i=n[0],r=i.size&&i.size/Math.pow(1e3,2);if(r>this.maxSize)return void this.$emit("size-exceeded",r);this.file=i,this.$emit("file",{model:this.model,file:i});var a=new FileReader;a.onload=function(e){var n=e.target.result;n&&(t.$emit("load",{model:t.model,dataURI:n}),t.preview=n)},a.readAsDataURL(i)}}}};const __vue_script__$f=script$f;var __vue_render__$f=function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-img",{staticClass:"grid__image",class:e.classCss,attrs:{src:e.previewImage,"lazy-src":e.previewImage,"aspect-ratio":"1","max-width":e.maxWidth,"max-height":e.maxHeight}})},__vue_staticRenderFns__$f=[];__vue_render__$f._withStripped=!0;const __vue_inject_styles__$f=void 0,__vue_scope_id__$f=void 0,__vue_module_identifier__$f=void 0,__vue_is_functional_template__$f=!1;var VuejxImagePreview=normalizeComponent_1({render:__vue_render__$f,staticRenderFns:__vue_staticRenderFns__$f},void 0,__vue_script__$f,void 0,!1,void 0,void 0,void 0),script$g={name:"vuejx-date",props:{class_name:{type:String,default:"v__border"},value:{type:String,default:""},item:{type:String,default:""},dataValue:{type:String,default:""}},data:function(){return{menu2:!1,toDateFormatted:null,toDate:null}},watch:{toDate:function(e){this.$emit("input",new Date(e).getTime())}},mounted:function(){var e=this;e.$nextTick(function(){null!==e.dataValue&&void 0!==e.dataValue&&""!==e.dataValue&&(e.toDate=new Date(parseInt(e.dataValue)).toISOString().substr(0,10))})},methods:{formatDate:function(e){if(!e)return null;var t=new Date(parseInt(e));return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},parseDate:function(e){if(!e)return null;var t=_slicedToArray(e.split("/"),3),n=t[0],i=t[1],r=t[2];return"".concat(r,"-").concat(i.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},pickDate:function(){this.menu2=!1,this.toDateFormatted=this.formatDate(new Date(this.toDate).getTime())}}};const __vue_script__$g=script$g;var __vue_render__$g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-bottom":10,"nudge-left":10,transition:"fade-transition","offset-y":"","full-width":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-text-field",e._g({class:e.class_name,attrs:{text:"",solo:"","append-icon":"mdi-calendar",readonly:"",value:e.formatDate(e.dataValue)}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),n("v-date-picker",{attrs:{"no-title":""},on:{input:function(t){return e.pickDate()}},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1)},__vue_staticRenderFns__$g=[];__vue_render__$g._withStripped=!0;const __vue_inject_styles__$g=void 0,__vue_scope_id__$g=void 0,__vue_module_identifier__$g=void 0,__vue_is_functional_template__$g=!1;var VuejxCoreDate=normalizeComponent_1({render:__vue_render__$g,staticRenderFns:__vue_staticRenderFns__$g},void 0,__vue_script__$g,void 0,!1,void 0,void 0,void 0),script$h={name:"vuejx-date-multiple",props:{class_name:{type:String,default:"v__border"},value:{type:String,default:""},item:{type:String,default:""},dataValue:{type:String,default:""},multiple:{type:Boolean,default:!1},ref:{type:String,default:""}},data:function(){return{menu2:!1,toDateFormatted:null,toDate:null,dates:[],datesF:[]}},watch:{dates:function(e){var t=[];this.datesF=[];for(var n in e)t.push(new Date(e[n]).getTime()),this.datesF.push(this.formatDate(new Date(e[n]).getTime()));this.$emit("input",t)}},mounted:function(){var e=this;e.$nextTick(function(){if(null!==e.dataValue&&void 0!==e.dataValue&&""!==e.dataValue){e.datesF=[],e.dates=[];for(var t in e.dataValue)e.dates.push(new Date(e.dataValue[t]).toISOString().substr(0,10)),e.datesF.push(e.formatDate(e.dataValue[t]))}})},methods:{formatDate:function(e){if(!e)return null;var t=new Date(parseInt(e));return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()},parseDate:function(e){if(!e)return null;var t=_slicedToArray(e.split("/"),3),n=t[0],i=t[1],r=t[2];return"".concat(r,"-").concat(i.padStart(2,"0"),"-").concat(n.padStart(2,"0"))},processRules:function processRules(rulesStr){return eval("( "+rulesStr+" )")},pickDate:function(){this.menu2=!1,this.toDateFormatted=this.formatDate(new Date(this.toDate).getTime())}}};const __vue_script__$h=script$h;var __vue_render__$h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{ref:"menu_"+e.ref,attrs:{"close-on-content-click":!1,"nudge-bottom":10,"nudge-left":10,transition:"fade-transition","offset-y":"","full-width":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-combobox",e._g({staticClass:"multiple__date",class:e.class_name,attrs:{value:e.datesF,multiple:"",chips:"","small-chips":"",text:"",solo:"","append-icon":"mdi-calendar",readonly:""}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e._v(" "),n("v-date-picker",{attrs:{multiple:"","no-title":""},model:{value:e.dates,callback:function(t){e.dates=t},expression:"dates"}})],1)},__vue_staticRenderFns__$h=[];__vue_render__$h._withStripped=!0;const __vue_inject_styles__$h=void 0,__vue_scope_id__$h=void 0,__vue_module_identifier__$h=void 0,__vue_is_functional_template__$h=!1;var VuejxCoreDateMultiple=normalizeComponent_1({render:__vue_render__$h,staticRenderFns:__vue_staticRenderFns__$h},void 0,__vue_script__$h,void 0,!1,void 0,void 0,void 0),script$i={name:"vuejx-array",service:new Service,props:{class_name:{type:String,default:"v__border"},config:{type:Array,default:[]},dataValue:{type:Array,default:[]},user:{type:Object,default:""},entity:{type:String,default:""},site:{type:String,default:"guest"},api:{type:String,default:""}},data:function(){return{menu2:!1,toDateFormatted:null,toDate:null,formData:{},dataSourceLoaded:!1,formDataSource:{},desData:[]}},watch:{desData:{handler:function(e){this.$emit("input",e)},deep:!0}},mounted:function(){var e=this;e.$nextTick(_asyncToGenerator(regeneratorRuntime.mark(function t(){var n,i,r,a,o,s,u,l,c,_,d,v;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.formData.type=e.entity,e.formData.site=e.site,e.dataSourceLoaded=!1,n={},i={},r=regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("date"===e.config[r].type&&(i[e.config[r].model]=!0),e.config[r].hasOwnProperty("model")&&(n[e.config[r].model]=null),e.dataSourceLoaded=!1,!e.config[r].hasOwnProperty("dataSource")){t.next=8;break}return t.next=6,e.$options.service.pullDataSource(e.api,{user:e.user,query:e.config[r].dataSource}).then(function(t){e.formDataSource[e.config[r].model+"_items"]=t});case 6:t.next=29;break;case 8:if(!e.config[r].hasOwnProperty("data")||"autocomplete"!==e.config[r].type){t.next=12;break}e.formDataSource[e.config[r].model+"_items"]=e.config[r].data,t.next=29;break;case 12:if("site"!==e.config[r].model){t.next=16;break}e.formData[e.config[r].model]=e.site,t.next=29;break;case 16:if(!e.config[r].hasOwnProperty("link")||!e.config[r].hasOwnProperty("link_along")||"autocomplete"!==e.config[r].type){t.next=21;break}return t.next=19,e.$options.service.pullDataGuestAlong(e.api,{user:e.user,entity:e.config[r].link,link_along:e.config[r].link_along,site:e.site,columns:e.config[r].link_columns,sort:e.config[r].link_sort}).then(function(t){e.formDataSource[e.config[r].model+"_items"]=t}).catch(function(e){console.error(e)});case 19:t.next=29;break;case 21:if(!e.config[r].hasOwnProperty("link")||e.config[r].hasOwnProperty("link_item")||"autocomplete"!==e.config[r].type){t.next=26;break}return t.next=24,e.$options.service.pullDataGuest(e.api,{user:e.user,entity:e.config[r].link,site:e.site,columns:e.config[r].link_columns,sort:e.config[r].link_sort}).then(function(t){e.formDataSource[e.config[r].model+"_items"]=t}).catch(function(e){console.error(e)});case 24:t.next=29;break;case 26:if(!e.config[r].hasOwnProperty("link")||!e.config[r].hasOwnProperty("link_item")||"autocomplete"!==e.config[r].type){t.next=29;break}return t.next=29,e.$options.service.pullDataGuest(e.api,{user:e.user,entity:e.config[r].link,entityLink:e.config[r].link_item,site:e.site,columns:e.config[r].link_columns,sort:e.config[r].link_sort}).then(function(t){e.formDataSource[e.config[r].model+"_items"]=t}).catch(function(e){console.error(e)});case 29:case"end":return t.stop()}},t)}),t.t0=regeneratorRuntime.keys(e.config);case 8:if((t.t1=t.t0()).done){t.next=13;break}return a=t.t1.value,t.delegateYield(r(a),"t2",11);case 11:t.next=8;break;case 13:if(void 0!==e.dataValue&&null!==e.dataValue&&e.dataValue.length>0)e.desData=e.dataValue;else{o=0;for(a in e.dataValue)o+=1;0===o?e.desData.push(n):e.desData.push(e.dataValue)}for(s=!0,u=!1,l=void 0,t.prev=17,c=e.desData[Symbol.iterator]();!(s=(_=c.next()).done);s=!0){d=_.value;for(v in d)i[v]&&null===d[v]&&(d[v]=0)}t.next=25;break;case 21:t.prev=21,t.t3=t.catch(17),u=!0,l=t.t3;case 25:t.prev=25,t.prev=26,s||null==c.return||c.return();case 28:if(t.prev=28,!u){t.next=31;break}throw l;case 31:return t.finish(28);case 32:return t.finish(25);case 33:e.dataSourceLoaded=!0;case 34:case"end":return t.stop()}},t,null,[[17,21,25,33],[26,,28,32]])})))},methods:{removeRow:function(e){this.desData.splice(e,1)},addRow:function(){var e={};for(var t in this.config)this.config[t].hasOwnProperty("model")&&(e[this.config[t].model]=null);this.desData.push(e)}}};const __vue_script__$i=script$i;var __vue_render__$i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.dataValue,function(t,i){return n("v-layout",{key:i,attrs:{row:"",wrap:""}},e._l(e.config,function(r,a){return n("v-flex",{key:a,class:r.class},["btn"===r.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v(e._s(r.label))]),e._v(" "),"remove"===r.mode?n("v-btn",{attrs:{text:"",icon:""},on:{click:function(t){return e.removeRow(i)}}},[n("v-icon",{attrs:{color:"red"}},[e._v("mdi-playlist-minus")])],1):e._e(),e._v(" "),"add"===r.mode?n("v-btn",{attrs:{text:"",icon:""},on:{click:e.addRow}},[n("v-icon",{attrs:{color:"primary"}},[e._v("mdi-playlist-plus")])],1):e._e()],1):e._e(),e._v(" "),"text"===r.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(r.label)+"\n          "),r.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),n("v-text-field",{staticClass:"v__border",attrs:{text:"",solo:""},model:{value:t[r.model],callback:function(n){e.$set(t,r.model,n)},expression:"itemData[item['model']]"}})],1):e._e(),e._v(" "),"date"===r.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(r.label)+"\n          "),r.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),n("vuejx-date",{attrs:{"data-value":t[r.model]},model:{value:t[r.model],callback:function(n){e.$set(t,r.model,n)},expression:"itemData[item['model']]"}})],1):e._e(),e._v(" "),"autocomplete"===r.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(r.label)+"\n          "),r.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),e.dataSourceLoaded?n("v-autocomplete",{staticClass:"v__border mb-2",attrs:{items:e.formDataSource[r.model+"_items"],text:"",solo:"","hide-no-data":"","hide-details":"","item-text":r.itemText,"item-value":r.itemValue,multiple:!!r.multiple,"return-object":!!r.object,"small-chips":""},model:{value:t[r.model],callback:function(n){e.$set(t,r.model,n)},expression:"itemData[item['model']]"}}):e._e()],1):e._e()])}),1)}),1)},__vue_staticRenderFns__$i=[];__vue_render__$i._withStripped=!0;const __vue_inject_styles__$i=void 0,__vue_scope_id__$i=void 0,__vue_module_identifier__$i=void 0,__vue_is_functional_template__$i=!1;var VuejxCoreArray=normalizeComponent_1({render:__vue_render__$i,staticRenderFns:__vue_staticRenderFns__$i},void 0,__vue_script__$i,void 0,!1,void 0,void 0,void 0),script$j={name:"vuejx-object",service:new Service,props:{class_name:{type:String,default:"v__border"},config:{type:Array,default:[]},dataValue:{type:Object,default:{}},user:{type:Object,default:""},entity:{type:String,default:""},site:{type:String,default:"guest"},api:{type:String,default:""}},data:function(){return{menu2:!1,toDateFormatted:null,toDate:null,formData:{},dataSourceLoaded:!1,formDataSource:{},desData:{}}},watch:{desData:{handler:function(e){this.$emit("input",e)},deep:!0}},mounted:function(){var e=this;e.$nextTick(_asyncToGenerator(regeneratorRuntime.mark(function t(){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.formData.type=e.entity,e.formData.site=e.site,e.dataSourceLoaded=!1,e.desData=e.dataValue,n=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.dataSourceLoaded=!1,!e.config[n].hasOwnProperty("dataSource")){t.next=6;break}return t.next=4,e.$options.service.pullDataSource(e.api,{user:e.user,query:e.config[n].dataSource}).then(function(t){e.formDataSource[e.config[n].model+"_items"]=t});case 4:t.next=22;break;case 6:if(!e.config[n].hasOwnProperty("data")||"autocomplete"!==e.config[n].type){t.next=10;break}e.formDataSource[e.config[n].model+"_items"]=e.config[n].data,t.next=22;break;case 10:if("site"!==e.config[n].model){t.next=14;break}e.formData[e.config[n].model]=e.site,t.next=22;break;case 14:if(!e.config[n].hasOwnProperty("link")||e.config[n].hasOwnProperty("link_item")||"autocomplete"!==e.config[n].type){t.next=19;break}return t.next=17,e.$options.service.pullDataGuest(e.api,{user:e.user,entity:e.config[n].link,site:e.site,columns:e.config[n].link_columns,sort:e.config[n].link_sort}).then(function(t){e.formDataSource[e.config[n].model+"_items"]=t}).catch(function(e){console.error(e)});case 17:t.next=22;break;case 19:if(!e.config[n].hasOwnProperty("link")||!e.config[n].hasOwnProperty("link_item")||"autocomplete"!==e.config[n].type){t.next=22;break}return t.next=22,e.$options.service.pullDataGuest(e.api,{user:e.user,entity:e.config[n].link,entityLink:e.config[n].link_item,site:e.site,columns:e.config[n].link_columns,sort:e.config[n].link_sort}).then(function(t){e.formDataSource[e.config[n].model+"_items"]=t}).catch(function(e){console.error(e)});case 22:case"end":return t.stop()}},t)}),t.t0=regeneratorRuntime.keys(e.config);case 7:if((t.t1=t.t0()).done){t.next=12;break}return i=t.t1.value,t.delegateYield(n(i),"t2",10);case 10:t.next=7;break;case 12:e.dataSourceLoaded=!0;case 13:case"end":return t.stop()}},t)})))},methods:{}};const __vue_script__$j=script$j;var __vue_render__$j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-layout",{attrs:{row:"",wrap:""}},e._l(e.config,function(t,i){return n("v-flex",{key:i,class:t.class},["text"===t.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(t.label)+"\n          "),t.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),n("v-text-field",{staticClass:"v__border",attrs:{text:"",solo:""},model:{value:e.desData[t.model],callback:function(n){e.$set(e.desData,t.model,n)},expression:"desData[item['model']]"}})],1):e._e(),e._v(" "),"date"===t.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(t.label)+"\n          "),t.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),n("vuejx-date",{attrs:{"data-value":e.desData[t.model]},model:{value:e.desData[t.model],callback:function(n){e.$set(e.desData,t.model,n)},expression:"desData[item['model']]"}})],1):e._e(),e._v(" "),"autocomplete"===t.type?n("div",[n("v-subheader",{staticClass:"vjx_label"},[e._v("\n          "+e._s(t.label)+"\n          "),t.required?n("font",{staticClass:"required__class"},[e._v("*")]):e._e()],1),e._v(" "),e.dataSourceLoaded?n("v-autocomplete",{staticClass:"v__border mb-2",attrs:{items:e.formDataSource[t.model+"_items"],text:"",solo:"","hide-no-data":"","hide-details":"","item-text":t.itemText,"item-value":t.itemValue,multiple:!!t.multiple,"return-object":!!t.object,"small-chips":""},model:{value:e.desData[t.model],callback:function(n){e.$set(e.desData,t.model,n)},expression:"desData[item['model']]"}}):e._e()],1):e._e()])}),1)],1)},__vue_staticRenderFns__$j=[];__vue_render__$j._withStripped=!0;const __vue_inject_styles__$j=void 0,__vue_scope_id__$j=void 0,__vue_module_identifier__$j=void 0,__vue_is_functional_template__$j=!1;var VuejxCoreObject=normalizeComponent_1({render:__vue_render__$j,staticRenderFns:__vue_staticRenderFns__$j},void 0,__vue_script__$j,void 0,!1,void 0,void 0,void 0),script$k={name:"vuejx-data-report",service:new Service,props:{user:{type:Object,default:{}},api:{type:String,default:"guest"},site:{type:String,default:"guest"},query:{type:Object,default:{}}},data:function(){return{}},mounted:function(){var e=this;e.$nextTick(_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.init(),console.debug("aggs query",e.query);case 2:case"end":return t.stop()}},t)})))},methods:{init:function(){var e=this,t={user:e.user,entity:e.entity,api:e.api,site:e.site,aggs:e.query};e.$options.service.pullDataAggs(t).then(function(t){console.debug("aggs result",t),e.$emit("data_report",t.aggs.aggregations)}).catch(function(){e.$emit("data_report",{})})}}};const __vue_script__$k=script$k;var __vue_render__$k=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span")},__vue_staticRenderFns__$k=[];__vue_render__$k._withStripped=!0;const __vue_inject_styles__$k=void 0,__vue_scope_id__$k=void 0,__vue_module_identifier__$k=void 0,__vue_is_functional_template__$k=!1;var VuejxDataAggs=normalizeComponent_1({render:__vue_render__$k,staticRenderFns:__vue_staticRenderFns__$k},void 0,__vue_script__$k,void 0,!1,void 0,void 0,void 0),script$l={name:"vuejx-data-report-table",service:new Service,props:{user:{type:Object,default:{}},api:{type:String,default:"guest"},site:{type:String,default:"guest"},entity:{type:String,default:""},querys:{type:Array,default:null},query_source:{type:Array,default:null},year:{type:Boolean,default:!1},rows:{type:Number,default:1e3}},data:function(){return{}},mounted:function(){var e=this;e.$nextTick(_asyncToGenerator(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.clean(),t.next=3,e.init();case 3:case"end":return t.stop()}},t)})))},beforeDestroy:function(){this.clean()},methods:{clean:function(){},init:function(){function e(){return t.apply(this,arguments)}var t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,i,r,a,o,s,u,l,c,_,d,v,p,m,f,h,y,g,b,$,k,x,w,S,C,j,A,D,R,N,V,P,O;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(t=this).$router.history.current,i={},r=!0,a=!1,e.prev=5,s=_asyncIterator(t.querys);case 7:return e.next=9,s.next();case 9:return u=e.sent,r=u.done,e.next=13,u.value;case 13:if(l=e.sent,r){e.next=21;break}i[(c=l).group_by]=[],i[c.group]={};case 18:r=!0,e.next=7;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),a=!0,o=e.t0;case 27:if(e.prev=27,e.prev=28,r||null==s.return){e.next=32;break}return e.next=32,s.return();case 32:if(e.prev=32,!a){e.next=35;break}throw o;case 35:return e.finish(32);case 36:return e.finish(27);case 37:_=!0,d=!1,e.prev=39,p=regeneratorRuntime.mark(function e(){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=h,r={user:t.user,entity:t.entity,api:t.api,site:t.site,countField:n.group_by,condition:n.condition,keyField:n.group_by_key,rows:t.rows},e.next=4,t.$options.service.pullFilterAggsReport(r).then(function(e){var r=e.aggs.hits.total.value;if(1===t.querys.length){var a=[];a=void 0!==e.aggs&&e.aggs.hasOwnProperty("aggregations")?e.aggs.aggregations.group_by.buckets:e.aggs[t.group_by].group_by.buckets;var o=0;for(var s in a){o+=parseInt(a[s].doc_count);var u=a[s].key;t.year&&(u=new Date(a[s].key).getFullYear()),void 0!==a[s]&&a[s].hasOwnProperty("aggregations")&&void 0!==a[s].aggregations.hits&&void 0!==a[s].aggregations.hits.hits&&(u="object"===_typeof(a[s].aggregations.hits.hits[0]._source[n.group_by_key])?a[s].aggregations.hits.hits[0]._source[n.group_by_key]._source.title:a[s].aggregations.hits.hits[0]._source[n.group_by_key]),i[n.group_by].push({name:u,y:a[s].doc_count})}var l=r-o;l>0&&i[n.group_by].push({name:"Không xác định",y:l})}else{var c=e.aggs;i[n.group][n.source]=c}}).catch(function(){t.clean()});case 4:case"end":return e.stop()}},e)}),m=_asyncIterator(t.querys);case 42:return e.next=44,m.next();case 44:return f=e.sent,_=f.done,e.next=48,f.value;case 48:if(h=e.sent,_){e.next=54;break}return e.delegateYield(p(),"t1",51);case 51:_=!0,e.next=42;break;case 54:e.next=60;break;case 56:e.prev=56,e.t2=e.catch(39),d=!0,v=e.t2;case 60:if(e.prev=60,e.prev=61,_||null==m.return){e.next=65;break}return e.next=65,m.return();case 65:if(e.prev=65,!d){e.next=68;break}throw v;case 68:return e.finish(65);case 69:return e.finish(60);case 70:if(!(t.querys.length>1)){e.next=136;break}e.t3=regeneratorRuntime.keys(i);case 72:if((e.t4=e.t3()).done){e.next=136;break}if(y=e.t4.value,Array.isArray(i[y])||"undefined"===String(y)||void 0===y){e.next=134;break}i[y].data=[],g=0,e.t5=regeneratorRuntime.keys(i[y]);case 78:if((e.t6=e.t5()).done){e.next=134;break}if(b=e.t6.value,Array.isArray(i[y][b])||"undefined"===String(y)||void 0===y){e.next=131;break}if(0!==g){e.next=85;break}for($ in i[y][b].aggregations.group_by.buckets)i[y].data.push(i[y][b].aggregations.group_by.buckets[$]);e.next=131;break;case 85:if(0!==i[y][b].aggregations.group_by.buckets.length){e.next=107;break}for(k=!0,x=!1,w=void 0,e.prev=89,S=i[y].data[Symbol.iterator]();!(k=(C=S.next()).done);k=!0)(j=C.value)["count_"+g]=0;e.next=97;break;case 93:e.prev=93,e.t7=e.catch(89),x=!0,w=e.t7;case 97:e.prev=97,e.prev=98,k||null==S.return||S.return();case 100:if(e.prev=100,!x){e.next=103;break}throw w;case 103:return e.finish(100);case 104:return e.finish(97);case 105:e.next=131;break;case 107:e.t8=regeneratorRuntime.keys(i[y][b].aggregations.group_by.buckets);case 108:if((e.t9=e.t8()).done){e.next=131;break}for(A=e.t9.value,D=!0,R=!1,N=void 0,e.prev=113,V=i[y].data[Symbol.iterator]();!(D=(P=V.next()).done);D=!0)(O=P.value).key===i[y][b].aggregations.group_by.buckets[A].key&&(O["count_"+g]=i[y][b].aggregations.group_by.buckets[A].doc_count);e.next=121;break;case 117:e.prev=117,e.t10=e.catch(113),R=!0,N=e.t10;case 121:e.prev=121,e.prev=122,D||null==V.return||V.return();case 124:if(e.prev=124,!R){e.next=127;break}throw N;case 127:return e.finish(124);case 128:return e.finish(121);case 129:e.next=108;break;case 131:g+=1,e.next=78;break;case 134:e.next=72;break;case 136:t.$emit("data_report",i);case 137:case"end":return e.stop()}},e,this,[[5,23,27,37],[28,,32,36],[39,56,60,70],[61,,65,69],[89,93,97,105],[98,,100,104],[113,117,121,129],[122,,124,128]])}));return e}()}};const __vue_script__$l=script$l;var __vue_render__$l=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span")},__vue_staticRenderFns__$l=[];__vue_render__$l._withStripped=!0;const __vue_inject_styles__$l=void 0,__vue_scope_id__$l=void 0,__vue_module_identifier__$l=void 0,__vue_is_functional_template__$l=!1;var VuejxDataReport=normalizeComponent_1({render:__vue_render__$l,staticRenderFns:__vue_staticRenderFns__$l},void 0,__vue_script__$l,void 0,!1,void 0,void 0,void 0),script$m={name:"vuejx-data-detail",service:new Service,props:{user:{type:Object,default:{}},api:{type:String,default:"guest"},site:{type:String,default:"guest"},entity:{type:String,default:""},key:{type:String,default:"shortName"}},data:function(){return{detail:{}}},mounted:function(){var e=this;e.$nextTick(function(){e.$router.history.current.query;e.clean(),e.init()})},beforeDestroy:function(){this.clean()},methods:{clean:function(){this.detail={}},init:function(){var e=this,t=e.$router.history.current,n={user:e.user,entity:e.entity,api:e.api,site:e.site,shortName:t.query[e.key]};e.$options.service.pullDataDetail(n).then(function(t){null!==t&&void 0!==t&&t.length>0?(e.detail=t[0]._source,e.$emit("data",e.detail)):(e.detail={},e.$emit("data",null))}).catch(function(){e.clean()})}}};const __vue_script__$m=script$m;var __vue_render__$m=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default",null,{data:e.detail})],2)},__vue_staticRenderFns__$m=[];__vue_render__$m._withStripped=!0;const __vue_inject_styles__$m=void 0,__vue_scope_id__$m=void 0,__vue_module_identifier__$m=void 0,__vue_is_functional_template__$m=!1;var VuejxDataDetail=normalizeComponent_1({render:__vue_render__$m,staticRenderFns:__vue_staticRenderFns__$m},void 0,__vue_script__$m,void 0,!1,void 0,void 0,void 0),script$n={name:"vuejx-data-list",service:new Service,props:{user:{type:Object,default:{}},api:{type:String,default:"guest"},site:{type:String,default:"guest"},link:{type:String,default:""},link_item:{type:String,default:""},group_by:{type:String,default:""},entity:{type:String,default:""},sort:{type:Array,default:null},columns:{type:Array,default:null},link_sort:{type:Array,default:null},link_columns:{type:Array,default:null},size:{type:Number,default:5},condition:{type:Array,default:null},classCss:{type:String,default:null},classWrap:{type:String,default:null},queryFilter:{type:Array,default:null}},data:function(){return{scrollbarConfig:{suppressScrollY:!0},title:"",filter:[],authors:null,objLabel:{},page:0,keyword:"",dialog:!1,content:"",selectedItem:null,contentId:"",_index:0}},mounted:function(){var e=this;e.$nextTick(function(){var t=e.$router.history.current.query;e.clean(),e.page=t.hasOwnProperty("page")?parseInt(t.page):0,e.keyword=t.hasOwnProperty("s")?t.s:"",e.contentId=t.hasOwnProperty("_id")?t._id:"",e._index=t.hasOwnProperty("_index")?t._index:"",t.hasOwnProperty("tag._source.shortName")||e.init(!0)})},beforeDestroy:function(){this.clean()},watch:{$route:function(e,t){var n=this,i=e.query;n.page=i.hasOwnProperty("page")?parseInt(i.page):0,n.keyword=i.hasOwnProperty("s")?i.s:"",n.contentId=i.hasOwnProperty("_id")?i._id:"",n._index=i.hasOwnProperty("_index")?i._index:"",void 0!==n.contentId&&""!==n.contentId?n.blogDetail():(n.clean(),n.init(!1))}},methods:{clean:function(){this.title="",this.filter=[],this.authors=null,this.objLabel={},this.content="",this.dialog=!1,this.selectedItem=null,this.contentId="",this._index=0},init:function(e){var t=this,n=(t.$router.history.current,{user:t.user,entity:t.entity,api:t.api,site:t.site,sort:null!==t.sort?t.sort:[{order:"asc"},"_score"],columns:null!==t.columns?t.columns:["shortName","title"],condition:t.condition,link:t.link,link_item:t.link_item,link_sort:t.link_sort,link_columns:t.link_columns,page:t.page,size:t.size,keyword:t.keyword,queryFilter:t.queryFilter});t.$options.service.pullData(n).then(function(n){t.authors=n.results.hits.hits,t.$emit("data",t.authors),void 0!==t.contentId&&""!==t.contentId&&e&&(t.selectedItem=t.authors[t._index],t.blogDetail())}).catch(function(){t.clean()})},toPage:function(e,t,n,i){var r=this,a=r.$router.history.current,o=a.query,s="?";o.page="",t&&(r.page=e?r.page+1:r.page-1,r.page<0&&(r.page=0),o._id="",o._index=""),null!==n&&(r.selectedItem=n,o._id="");for(var u in o)""!==o[u]&&"undefined"!==o[u]&&void 0!==o[u]&&null!==o[u]&&"page"!==u&&"_id"!==u&&"_index"!==u&&(s+=u+"="+o[u]+"&");if(s+="page="+r.page+"&",null!==n){var l=r.objectHasKeyFile(n._source,"content_id_");s+="_id="+n._source[l]+"&_index="+i}r.$router.push({path:a.path+s})},blogDetail:function(){var e=this,t=e.objectHasKeyFile(e.selectedItem._source,"content_id_"),n={user:e.user,api:e.api,id:e.selectedItem._source[t]};e.selectedItem._source.hasOwnProperty(t)&&""!==e.selectedItem._source[t]?e.$options.service.pullContent(n).then(function(t){e.content=t,e.dialog=!0}).catch(function(){e.clean()}):(e.content="",e.dialog=!0)},objectHasKeyFile:function(e,t){var n="";for(var i in e)if(e.hasOwnProperty(i)&&i.toString().startsWith(t)&&!i.toString().endsWith("_info")){n=i;break}return n}}};const __vue_script__$n=script$n;var __vue_render__$n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",[e._t("default",null,{data:e.authors})],2)},__vue_staticRenderFns__$n=[];__vue_render__$n._withStripped=!0;const __vue_inject_styles__$n=void 0,__vue_scope_id__$n=void 0,__vue_module_identifier__$n=void 0,__vue_is_functional_template__$n=!1;var VuejxDataList=normalizeComponent_1({render:__vue_render__$n,staticRenderFns:__vue_staticRenderFns__$n},void 0,__vue_script__$n,void 0,!1,void 0,void 0,void 0),index={install:install};module.exports=index;
