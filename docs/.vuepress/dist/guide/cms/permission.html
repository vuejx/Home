<!DOCTYPE html>
<html lang="vi-VN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Mô tả quyền dữ liệu | Vuejx</title>
    <meta name="description" content="Hướng dẫn sử dụng VueJX-RestHeard">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/,png" sizes="32x32" href="/favicons/favicon-32x32.png">
  <link rel="icon" type="image/,png" sizes="16x16" href="/favicons/favicon-16x16.png">
  <link rel="manifest" href="/favicons/site.webmanifest">
  <link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-config" content="/favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">
  <meta property="og:image" content="/cover.png">
    
    <link rel="preload" href="/assets/css/0.styles.18d07a2c.css" as="style"><link rel="preload" href="/assets/js/app.f3cee08d.js" as="script"><link rel="preload" href="/assets/js/2.3f9c4bae.js" as="script"><link rel="preload" href="/assets/js/25.f38d3c39.js" as="script"><link rel="prefetch" href="/assets/js/10.e8ad0afb.js"><link rel="prefetch" href="/assets/js/11.fe622a71.js"><link rel="prefetch" href="/assets/js/12.7890db71.js"><link rel="prefetch" href="/assets/js/13.29273ef1.js"><link rel="prefetch" href="/assets/js/14.45b9c429.js"><link rel="prefetch" href="/assets/js/15.8d6db82d.js"><link rel="prefetch" href="/assets/js/16.e85baa88.js"><link rel="prefetch" href="/assets/js/17.5b81c453.js"><link rel="prefetch" href="/assets/js/18.3a0cf3ca.js"><link rel="prefetch" href="/assets/js/19.e5f41f3c.js"><link rel="prefetch" href="/assets/js/20.b3cee897.js"><link rel="prefetch" href="/assets/js/21.84364ef6.js"><link rel="prefetch" href="/assets/js/22.78b43615.js"><link rel="prefetch" href="/assets/js/23.b2eae23f.js"><link rel="prefetch" href="/assets/js/24.dc3b5bd5.js"><link rel="prefetch" href="/assets/js/26.2cec70af.js"><link rel="prefetch" href="/assets/js/27.c394583d.js"><link rel="prefetch" href="/assets/js/28.eaea9bef.js"><link rel="prefetch" href="/assets/js/29.28da3392.js"><link rel="prefetch" href="/assets/js/3.9987c84b.js"><link rel="prefetch" href="/assets/js/30.6c584e87.js"><link rel="prefetch" href="/assets/js/31.175ddbd1.js"><link rel="prefetch" href="/assets/js/32.85711c23.js"><link rel="prefetch" href="/assets/js/33.c9d413de.js"><link rel="prefetch" href="/assets/js/34.eb5ff096.js"><link rel="prefetch" href="/assets/js/35.fcaf5a80.js"><link rel="prefetch" href="/assets/js/36.d306a906.js"><link rel="prefetch" href="/assets/js/37.dc502d0e.js"><link rel="prefetch" href="/assets/js/38.264cd81f.js"><link rel="prefetch" href="/assets/js/39.21d16434.js"><link rel="prefetch" href="/assets/js/4.62563d07.js"><link rel="prefetch" href="/assets/js/40.118ec984.js"><link rel="prefetch" href="/assets/js/41.85588270.js"><link rel="prefetch" href="/assets/js/5.f090700d.js"><link rel="prefetch" href="/assets/js/6.bd1d5087.js"><link rel="prefetch" href="/assets/js/7.1e3829a9.js"><link rel="prefetch" href="/assets/js/8.ff2e6a3a.js"><link rel="prefetch" href="/assets/js/9.397ef599.js">
    <link rel="stylesheet" href="/assets/css/0.styles.18d07a2c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="Vuejx" class="logo"> <span class="site-name can-hide">Vuejx</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Phụ lục</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ngôn ngữ</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/cms/permission.html" class="nav-link router-link-exact-active router-link-active">Tiếng việt</a></li><li class="dropdown-item"><!----> <a href="/en.html" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/vuejx/restheart" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Phụ lục</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Ngôn ngữ</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/cms/permission.html" class="nav-link router-link-exact-active router-link-active">Tiếng việt</a></li><li class="dropdown-item"><!----> <a href="/en.html" class="nav-link">English</a></li></ul></div></div> <a href="https://github.com/vuejx/restheart" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Mô hình</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/lifecycle/structure.html" class="sidebar-link">Tổng quan</a></li><li><a href="/guide/lifecycle/configuration.html" class="sidebar-link">Môi trường triển khai</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>GraphQL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/api/graphql_data.html" class="sidebar-link">API truy vấn dữ liệu</a></li><li><a href="/guide/api/graphql_count.html" class="sidebar-link">API đếm số lượng</a></li><li><a href="/guide/api/graphql_aggs.html" class="sidebar-link">API thống kê báo cáo</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>RESTful API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/api/rest_data.html" class="sidebar-link">API truy vấn dữ liệu</a></li><li><a href="/guide/api/rest_aggs.html" class="sidebar-link">API thống kê báo cáo</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>OAI-PMH</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/api/oaipmh.html" class="sidebar-link">OAI-PMH Service</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Hướng dẫn sử dụng</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/cms/permission.html" class="active sidebar-link">Mô tả quyền dữ liệu</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/cms/permission.html#quan-ly-phan-quyen-cua-nguoi-dung" class="sidebar-link">Quản lý phân quyền của người dùng</a></li><li class="sidebar-sub-header"><a href="/guide/cms/permission.html#phan-quyen-tren-mot-collection-du-lieu" class="sidebar-link">Phân quyền trên một collection dữ liệu</a></li><li class="sidebar-sub-header"><a href="/guide/cms/permission.html#cau-truc-cua-1-tai-lieu-mac-dinh-tao-ra-co-cac-truong-nhu-sau" class="sidebar-link">Cấu trúc của 1 tài liệu mặc định tạo ra có các trường như sau</a></li><li class="sidebar-sub-header"><a href="/guide/cms/permission.html#cac-quyen-truy-cap-du-lieu" class="sidebar-link">Các quyền truy cập dữ liệu</a></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Người dùng là quản trị hệ thống</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Người dùng cá nhân</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mo-ta-quyen-du-lieu"><a href="#mo-ta-quyen-du-lieu" aria-hidden="true" class="header-anchor">#</a> Mô tả quyền dữ liệu</h1> <h2 id="quan-ly-phan-quyen-cua-nguoi-dung"><a href="#quan-ly-phan-quyen-cua-nguoi-dung" aria-hidden="true" class="header-anchor">#</a> Quản lý phân quyền của người dùng</h2> <ul><li>Mỗi người dùng được định danh = username</li> <li>guest là tên người dùng đặc biệt được gắn cho các phiên không có xác thực</li> <li>Người dùng được gắn với 1 tập roles. Roles được sử dụng để xác định vị trí công việc hoặc tổ chức làm việc của người dùng</li> <li>admin là roles đặc biệt cho phép quản trị, đọc ghi toàn bộ dữ liệu trong hệ thống</li> <li>user là roles đặc biệt dành cho tất cả người dùng có tài khoản được xác thực</li> <li>Mỗi phiên đăng nhập, ứng dụng được phép truy cập thông tin trong một phạm vi scope nhất định</li></ul> <h2 id="phan-quyen-tren-mot-collection-du-lieu"><a href="#phan-quyen-tren-mot-collection-du-lieu" aria-hidden="true" class="header-anchor">#</a> Phân quyền trên một collection dữ liệu</h2> <p>Chỉ có admin được phép ghi thay đổi phân quyền trên 1 collection thông qua dữ liệu _meta
Các giá trị trường metadata:</p> <ul><li>rightMode: 0 = theo phân quyền của từng bản ghi; 1 = cho phép đọc tất cả bản ghi; 2: cho phép đọc/ghi tất cả bản ghi. Ngầm định rightMode = 0.</li> <li>publicAccess: 0 = không cho phép guest truy cập, 1 = cho phép guest truy cập nhưng ko được tạo mới; 2: cho phép guest truy cập và tạo mới dữ liệu. Ngầm định publicAccess = 0.</li> <li>scopes: danh sách các scope được phép truy cập bảng dữ liệu. Nếu null thì được truy cập bởi mọi scope, ví dụ [ “scope_1”,  “scope_2”]</li> <li>projections: hạn chế các trường thông tin được phép trả về theo phạm vi của từng scope, ví dụ: [ { scope: “scope_1”, keys: { “field_1”: 0 , field_2”: 1,...}},... ]</li></ul> <h2 id="cau-truc-cua-1-tai-lieu-mac-dinh-tao-ra-co-cac-truong-nhu-sau"><a href="#cau-truc-cua-1-tai-lieu-mac-dinh-tao-ra-co-cac-truong-nhu-sau" aria-hidden="true" class="header-anchor">#</a> Cấu trúc của 1 tài liệu mặc định tạo ra có các trường như sau</h2> <p>_id: key dữ liệu (nếu không tường minh thì hệ thống tự tạo $oid)</p> <p>_etag: version của dữ liệu dùng để xử lý caching tự động. Etag được trả lại trong header của http.</p> <p>_dateCreated: ngày tạo tài liệu (tự động cập nhật khi POST, PUT lần đầu)</p> <p>_dateModified: ngày sửa tài liệu lần cuối (tự động cập nhật khi PUT hoặc PATCH)</p> <p>_username: người tạo dữ liệu, sử dụng tên đăng nhập. Trong trường hợp người dùng không đăng nhập thì tự động tạo phiên làm việc cho người dùng “guest”. Người chủ sở hữu dữ liệu có toàn quyền đọc ghi</p> <p>_email: email của người tạo dữ liệu trong trường hợp người dùng hoặc guest có định danh = email duy nhất</p> <p>_storage: trạng thái sử dụng của dữ liệu: draft (lưu nháp), archive (lưu trữ), trash (thùng rác), regular (thông thường). Ngầm định dữ liệu tạo ra lưu ở bộ nhớ regular.</p> <p>_openAccess: mức độ truy cập mở của bản ghi: 2 = tất cả đều có thể đọc bao gồm cả guest; 1 = người dùng có tài khoản được đọc, 0 = chỉ những người nào được phân quyền. Ngầm định có giá trị là 0.</p> <p>_accessRoles: danh sách những roles được phép truy cập (đọc/ghi) dữ liệu, ví dụ [ { role: “r1”, permission: 1, role: “r2”, permission: 2 } ]</p> <p>_accessUsers: danh sách những người dùng được phép truy cập (đọc/ghi) dữ liệu, ví dụ [ { username: “u1”, permission: 1, username: “u2”, permission: 2 } ]</p> <p>_accessEmails: danh sách những email (guest) được phép truy cập (đọc/ghi) dữ liệu, ví dụ [ { email: “mail_1@dot.com”, permission: 1, email: “mail_2@dot.com”, permission: 2 } ]</p> <h2 id="cac-quyen-truy-cap-du-lieu"><a href="#cac-quyen-truy-cap-du-lieu" aria-hidden="true" class="header-anchor">#</a> Các quyền truy cập dữ liệu</h2> <ol><li>quyền đọc dữ liệu</li> <li>quyền sửa dữ liệu</li> <li>quyền chia sẻ dữ liệu (_openAccess, _accessRoles, _accessUsers, _accessEmails)</li> <li>quyền xóa dữ liệu vĩnh viễn, hoặc thay đổi lưu trữ (_storage)</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/vuejx/restheart/edit/master/docs/guide/cms/permission.md" target="_blank" rel="noopener noreferrer">Chỉnh sửa trang này trên GitHub!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/api/oaipmh.html" class="prev">OAI-PMH Service</a></span> <span class="next"><a href="/guide/cms/system.html">Bắt đầu</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f3cee08d.js" defer></script><script src="/assets/js/2.3f9c4bae.js" defer></script><script src="/assets/js/25.f38d3c39.js" defer></script>
  </body>
</html>
